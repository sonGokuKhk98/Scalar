!function(e){function t(t){for(var a,s,c=t[0],o=t[1],l=t[2],d=0,m=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);for(u&&u(t);m.length;)m.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,c=1;c<n.length;c++){var o=n[c];0!==r[o]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={89:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=a);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=function(e){return s.p+"js/"+({40:"vendors~AgoraRTC_N-pr~f8b86675",79:"LottiePlayer",244:"vendors~LottiePlayer"}[e]||e)+"."+{40:"839e52",79:"8a5cff",244:"dc95d1"}[e]+".chunk.js"}(e);var o=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;o.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,n[1](o)}r[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="https://assets.scaler.com/packs/",s.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;i.push(["J9lY",0,2,4,6,13,249,1,5]),n()}({"/1xN":function(e,t,n){"use strict";var a=n("7cf5"),r=n("gbB/"),i=n.n(r),s=n("5gM2"),c=n("9AH+"),o=n("q4K5");t.a=function(e){var t=e.url,n=e.id,r=void 0===n?t:n,l=Object(a.a)(e,["url","id"]);return i.a.createElement(s.b,{store:o.a},i.a.createElement(c.a,Object.assign({id:r,url:t},l)))}},"0qOM":function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("boeR"),s=n("i5Br"),c=n.n(s),o=n("zXLR");function l(e){var t=e.isFit,n=e.isTransparent,a=e.message,s=e.redirectLabel,l=e.redirectTo,u=e.replace;return r.a.createElement("div",{className:"layout"},r.a.createElement("div",{className:c()("layout__content layout__content--centered p-10",{"layout__content--fit":t},{"layout__content--transparent":n})},r.a.createElement("p",{className:"text-c"},a),s&&l&&r.a.createElement(o.a,{className:"btn btn-primary",component:i.Link,to:l,replace:u},s)))}l.defaultProps={replace:!1},t.a=l},"10nn":function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("UcDd"),s=n("qqUr"),c=n("h6wY"),o=n("vtqw"),l=n("qovH"),u=n("QE7l"),d=n("6oJ6");t.a=Object(s.b)("channelsStore")((function(e){var t=e.channelsStore,n=e.match.params,s=t.getChannel(n.sid);return Object(a.useEffect)((function(){if(s)return s.setActive(!0),function(){return s.setActive(!1)}}),[s]),s?s.isLoaded?r.a.createElement("div",{className:"layout c-panel"},r.a.createElement("div",{className:"layout__header c-panel__header"},r.a.createElement(l.a,{channel:s})),r.a.createElement("div",{className:"layout__content layout__content--bottom c-panel__body"},r.a.createElement(d.a,{key:s.sid,channel:s})),r.a.createElement("div",{className:"layout__footer"},r.a.createElement(u.a,{key:s.sid,channel:s})),r.a.createElement(c.a,{channel:s}),r.a.createElement(o.a,{channel:s})):s.isLoading?r.a.createElement(i.d,null):s.loadError?r.a.createElement(i.c,{message:"Failed to load",actionFn:function(){return s.load()},actionLabel:"Try Again"}):null:r.a.createElement(i.c,{message:"No such channel found"})}))},"2Hh2":function(e,t,n){"use strict";var a=n("g4DW"),r=n("DjBF"),i=n("7cf5"),s=n("gbB/"),c=n.n(s),o=n("i5Br"),l=n.n(o),u=n("ldfh"),d=n("tjC1");t.a=function(e){var t=e.className,n=e.items,o=e.hasSidebarHeader,m=e.hasHeaderToggleBtn,h=e.gaCategory,f=e.headerContent,b=e.footerContent,g=e.isAlwaysOpen,p=void 0!==g&&g,v=Object(i.a)(e,["className","items","hasSidebarHeader","hasHeaderToggleBtn","gaCategory","headerContent","footerContent","isAlwaysOpen"]),_=Object(u.q)().tablet;Object(s.useEffect)((function(){j()}),[]);var y=Object(s.useState)(!1),E=Object(r.a)(y,2),O=E[0],k=E[1],j=function(){k(!(!p&&_))};return c.a.createElement(d.a,Object.assign({className:l()(Object(a.a)({},t,t),"sidebar__".concat(O?"open":"close")),arrowClasses:l()(Object(a.a)({},"icon-arrow-".concat(_?"down":"left"),!0)),items:n,toggle:function(){k(!O)},hasHeaderToggleBtn:m,gaCategory:h||void 0,headerContent:f,footerContent:b,hasSidebarHeader:o},v))}},"2Rhu":function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("qqUr"),s=n("evZc"),c=n("h6wY"),o=n("QE7l"),l=n("vtqw"),u=n("6oJ6"),d=n("toJu");t.a=Object(i.b)("channelsStore")((function(e){var t=e.chatWindow,n=e.channelsStore.channels.get(t.id);return Object(a.useEffect)((function(){function e(){n.setActive(!0)}function a(){n.setActive(!1)}return t.isFocused&&n.setActive(!0),t.on("focus",e),t.on("blur",a),function(){n.setActive(!1),t.off("focus",e),t.off("blur",a)}}),[n,t]),r.a.createElement(s.d,{widgetWindow:t},r.a.createElement(d.a,{chatWindow:t,channel:n}),r.a.createElement(s.b,{widgetWindow:t},r.a.createElement("div",{className:"layout"},r.a.createElement("div",{className:"layout__content layout__content--bottom"},r.a.createElement(u.a,{channel:n})),r.a.createElement("div",{className:"layout__footer"},r.a.createElement(o.a,{channel:n})))),r.a.createElement(c.a,{channel:n}),n.isGroup&&r.a.createElement(l.a,{channel:n}))}))},"2sDo":function(e,t,n){"use strict";var a=n("2bPg"),r=n("BRlI"),i=n("PK3Q"),s=n("Q5Ww"),c=n("00an"),o=n("yTEK"),l=n("U8xz"),u=n("6Cf1"),d=n("jd6j"),m=function(e){function t(e,n){var r;return Object(a.a)(this,t),(r=Object(i.a)(this,Object(s.a)(t).call(this,e)))._channel=n,r}return Object(c.a)(t,e),Object(r.a)(t,[{key:"channel",get:function(){return this._channel}},{key:"identity",get:function(){return this._internal.identity}},{key:"isMine",get:function(){return this.identity===l.a.user.identity}},{key:"isOnline",get:function(){return this.user&&this.user.online}},{key:"isTyping",get:function(){return this._internal.isTyping}},{key:"user",get:function(){return d.a.getUser(this.identity)}}]),t}(u.a);Object(o.h)(m,{isOnline:o.e,isTyping:o.e}),t.a=m},"32Do":function(e,t,n){"use strict";var a=n("7cf5"),r=n("gbB/"),i=n.n(r),s=n("UcDd"),c=n("DnLK");t.a=function(e){return Object(c.a)("clientStore")((function(t){var n=t.clientStore,c=Object(a.a)(t,["clientStore"]);return Object(r.useEffect)((function(){n.load()}),[]),n.isLoading?i.a.createElement(s.d,null):n.loadError?i.a.createElement(s.c,{message:"Failed to load client.",actionFn:function(){return n.load()}}):n.isLoggedIn?i.a.createElement(e,c):null}))}},"5icY":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n("gbB/"),r=n.n(a),i=Object(a.createContext)(!1);function s(e){return function(t){return r.a.createElement(i.Consumer,null,(function(n){return r.a.createElement(e,Object.assign({},t,{isWidget:n}))}))}}},"5oKU":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="Mentor Chat",r=50},"6Cf1":function(e,t,n){"use strict";var a=n("2bPg"),r=n("BRlI"),i=n("yTEK"),s=n("WwGv"),c=function(){function e(t){Object(a.a)(this,e),this._internal=t}return Object(r.a)(e,[{key:"updateInstance",value:function(e){this._internal=Object(s.a)(e)}},{key:"internal",get:function(){return this._internal}}]),e}();Object(i.h)(c,{_internal:i.n.ref,internal:i.e,updateInstance:i.d}),t.a=c},"6oJ6":function(e,t,n){"use strict";var a=n("2bPg"),r=n("BRlI"),i=n("PK3Q"),s=n("Q5Ww"),c=n("00an"),o=n("gbB/"),l=n.n(o),u=n("5gM2"),d=n("UcDd"),m=n("44ut"),h=n("jP46"),f=n("VBMs"),b=n("uBWv"),g=n("Y8Ub"),p=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e)))._handleAfterMessagesAdded=function(e,t){var a=n.props.channel;if("end"===e){var r=a.getLastMessage("any",!0);requestAnimationFrame((function(){!r.isMine&&a.isReadingOldMessages||(t.scrollTop=f.a)}))}else{var i=n._scrollInfo;i&&(requestAnimationFrame((function(){var e=n._getScrollInfo(t),a=i.scrollTop+(e.scrollHeight-i.scrollHeight)+(e.headerHeight-i.headerHeight);t.scrollTop=a,n.setState({isScrollLocked:!1})})),n._scrollInfo=null)}n._handleMarkingMessagesAsRead()},n._handleBeforeMessagesAdded=function(e,t){"start"===e&&(n.setState({isScrollLocked:!0}),n._scrollInfo=n._getScrollInfo(t))},n._handleScroll=function(e){var t=e.target,a=n.props.channel,r=t.offsetHeight,i=t.scrollHeight,s=t.scrollTop;a.setScrollTop(s);var c=i-r-s>100;a.setReadingOldMessages(c),!a.loadError&&s<r/2&&a.loadMessages(!0)},n._headerUi=function(){var e=n.props.channel;return l.a.createElement(g.a,{channel:e})},n._itemUi=function(e){var t=e.index,a=e.style,r=n.props.channel;return l.a.createElement(b.a,{channel:r,index:t,style:a})},n.state={isScrollLocked:!1},n._listRef=Object(o.createRef)(),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.channel;e.loadMessages();var t=e.markFirstUnreadMessage(),n=this._listRef.current;t&&n&&n.scrollToIndex(t),e.markAllAsRead()}},{key:"componentWillUnmount",value:function(){this._handleMarkingMessagesAsRead()}},{key:"componentDidUpdate",value:function(){this._handleMarkingMessagesAsRead()}},{key:"_getScrollInfo",value:function(e){return{headerHeight:e.querySelector("#virtualized-header").offsetHeight,scrollHeight:e.scrollHeight,scrollTop:e.scrollTop}}},{key:"_handleMarkingMessagesAsRead",value:function(){var e=this.props.channel;!Object(m.e)()&&e.isActive&&e.markAllAsRead()}},{key:"_listUi",value:function(){var e=this.props.channel,t=this.state.isScrollLocked;return l.a.createElement(h.b,{ref:this._listRef,afterItemsAdded:this._handleAfterMessagesAdded,beforeItemsAdded:this._handleBeforeMessagesAdded,cache:e.virtualizedCache,className:"chat-window__list",contentClass:"chat-window__content",headerContainerClass:"chat-window__header",headerRenderer:this._headerUi,initialScrollTop:e.scrollTop,isScrollLocked:t,itemRenderer:this._itemUi,onScroll:this._handleScroll})}},{key:"render",value:function(){var e=this.props.channel;return e.hasNoMessages?l.a.createElement(d.c,{message:"You have no messages in this channel."}):e.hasLoadedFewMessages?l.a.createElement("div",{className:"chat-window"},this._listUi()):e.isLoadingMessages?l.a.createElement(d.d,null):e.loadError?l.a.createElement(d.c,{message:"Failed to load chat history."}):l.a.createElement(d.c,{message:"Chat history will be shown here"})}}]),t}(o.Component);t.a=Object(u.d)(p)},"6p2F":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("upjz");function r(){if(window.trackGaEvent){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=["chat"].concat(n);(e=window).trackGaEvent.apply(e,Object(a.a)(i))}}},"7Hcg":function(e,t,n){"use strict";var a=n("2bPg"),r=n("BRlI"),i=n("v/k1"),s=n.n(i),c=n("yTEK"),o=n("QGYB"),l=n.n(o),u=n("YqKy"),d=l.a.createInstance({description:"Storage for image blobs",driver:l.a.INDEXEDDB,name:"cached-images"}),m=function(){function e(t,n){Object(a.a)(this,e),this.isLoading=!1,this.isLoaded=!1,this.loadError=null,this.load=Object(c.i)(s.a.mark((function e(){var t,n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLoading&&!this.isLoaded){e.next=2;break}return e.abrupt("return");case 2:return this.isLoading=!0,this.loadError=null,e.prev=4,e.next=7,d.getItem(this._id);case 7:if(!(t=e.sent)){e.next=12;break}this.setImage(t),e.next=26;break;case 12:if(n=this._url,Object(u.i)(n)){e.next=17;break}return e.next=16,this._url();case 16:n=e.sent;case 17:return e.next=19,fetch(n,{method:"GET"});case 19:return a=e.sent,e.next=22,a.blob();case 22:return r=e.sent,e.next=25,d.setItem(this._id,r);case 25:this.setImage(r);case 26:this.isLoaded=!0,e.next=32;break;case 29:e.prev=29,e.t0=e.catch(4),this.loadError=e.t0;case 32:this.isLoading=!1;case 33:case"end":return e.stop()}}),e,this,[[4,29]])}))),this._id=t,this._objectUrl=null,this._url=n,this.load()}return Object(r.a)(e,[{key:"setImage",value:function(e){this._objectUrl=window.URL.createObjectURL(e)}},{key:"src",get:function(){return this._objectUrl}}]),e}();Object(c.h)(m,{_objectUrl:c.n.ref,isLoaded:c.n,isLoading:c.n,loadError:c.n.ref,setImage:c.d,src:c.e}),t.a=m},"9AH+":function(e,t,n){"use strict";var a=n("7cf5"),r=n("gbB/"),i=n.n(r),s=n("UcDd"),c=n("qqUr");t.a=Object(c.b)("store")((function(e){var t=e.id,n=e.store,c=e.url,o=Object(a.a)(e,["id","store","url"]);Object(r.useEffect)((function(){n.load(t,c)}),[t,n,c]);var l=n.getImage(t);return l?l.isLoaded?i.a.createElement("img",Object.assign({className:"cached-image__image",src:l.src},o)):l.isLoading?i.a.createElement(s.d,null):l.loadError?i.a.createElement(s.c,{message:"Failed to load image",actionLabel:"Try again",actionFn:function(){return l.load()}}):null:null}))},"9e5a":function(e,t,n){"use strict";var a=n("sd+N");n.d(t,"a",(function(){return a.a}));n("a0Bo")},CItj:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("KCm9");n("IcAC");t.a=function(e){var t=e.message;return r.a.createElement(i.b,{mdString:t.body})}},CYm0:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var a=n("butC"),r=n("v/k1"),i=n.n(r),s=n("MNJQ"),c=n.n(s);n("fjDw");function o(){c.a.initializeApp(window.FIREBASE_CONFIG)}function l(){return u.apply(this,arguments)}function u(){return(u=Object(a.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("serviceWorker"in navigator)){e.next=11;break}return e.next=3,navigator.serviceWorker.register("/chat-sw.js");case 3:return t=e.sent,(n=c.a.messaging()).useServiceWorker(t),e.next=8,n.getToken();case 8:return e.abrupt("return",e.sent);case 11:throw new Error("Browser does not support service workers");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},CkGp:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("tkKH"),s=n("qqUr"),c=n("+tDs"),o=n("dKS8"),l=n("PJFo"),u=n("10nn"),d=n("lIT5"),m=n("jubP"),h=n("rJCU"),f=function(e){var t=e.match;return r.a.createElement(m.a,null,r.a.createElement(i.d,{component:d.a,exact:!0,path:t.path}),r.a.createElement(i.d,{component:u.a,exact:!0,path:"".concat(t.path,"/:sid")}))},b=function(e){var t=e.match;return r.a.createElement(m.a,{isMobile:!0},r.a.createElement(i.d,{component:l.a,exact:!0,path:t.path}),r.a.createElement(i.d,{component:u.a,exact:!0,path:"".concat(t.path,"/:sid")}))};f=Object(s.c)(f),b=Object(s.c)(b),t.a=Object(c.b)((function(e){var t=e.isMobile;return r.a.createElement(o.a,{basePath:"/chat",stores:h.a},r.a.createElement(i.g,null,r.a.createElement(i.c,{exact:!0,from:"/",to:"/d"}),r.a.createElement(i.d,{component:t?b:f,path:"/d"})))}))},DnLK:function(e,t,n){"use strict";var a=n("5gM2"),r=n("6WMW"),i=n.n(r);t.a=function(){return i()(a.c.apply(void 0,arguments),a.d)}},DxYH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return o}));var a={document:"file-document",audio:"file-audio",video:"file-video",pdf:"file-pdf",image:"image",compressed:"file-compressed",code:"file-code",file:"file"},r={document:"Document",audio:"Audio",video:"Video",pdf:"PDF",image:"Image",compressed:"Compressed file",code:"Code",file:"File"};function i(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("target","_blank"),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function s(e){var t=o(e);return a[t]}function c(e){var t=o(e);return r[t]}function o(e){switch(e){case"application/msword":return"document";case"application/pdf":return"pdf";case"audio/aac":case"audio/mpeg":case"audio/3gpp":case"audio/3gpp2":case"audio/wav":case"audio/webm":return"audio";case"video/mpeg":case"video/quicktime":case"video/x-msvideo":case"video/webm":case"video/3gpp":case"video/3gpp2":return"video";case"image/png":case"image/jpeg":case"image/svg+xml":case"image/gif":case"image/webp":case"image/bmp":case"image/tiff":case"image/x-icon":case"image/vnd.microsoft.icon":return"image";case"application/x-gtar":case"application/x-gzip":case"application/x-tar":case"application/zip":case"application/x-rar-compressed":return"compressed";case"application/javascript":case"application/json":case"text/html":case"text/css":return"code";default:return"file"}}},FjWE:function(e,t,n){"use strict";var a=n("butC"),r=n("v/k1"),i=n.n(r),s=n("7a6X"),c=n("YjkG"),o=null;function l(e){o=e,window._chatClient=e}function u(){return(u=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new s.Client(window.CHAT_CONFIG.jwt),e.abrupt("return",new Promise((function(e,n){return t.on("stateChanged",(function(a){"initialized"===a?(l(t),e(t)):n()}))})).catch((function(){})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.getToken();case 2:return t=e.sent,e.next=5,o.updateToken(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a={getClient:function(){return o},initialize:function(){return u.apply(this,arguments)},updateToken:function(){return d.apply(this,arguments)}}},"H2h/":function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a);t.a=function(e){var t=e.count;return t>0?r.a.createElement("div",{className:"messages-count"},r.a.createElement("div",{className:"messages-count__content"},t>9?"9+":t)):null}},H6o4:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("UcDd"),s=n("qqUr"),c=n("OnEy");t.a=Object(s.b)("channelsStore")((function(e){var t=e.channelsStore;return t.isLoading?r.a.createElement(i.d,null):t.loadError?r.a.createElement(i.c,{message:"Failed to load conversations",actionFn:function(){return t.load()},actionLabel:"Try Again"}):0===t.channelsList.length?r.a.createElement(i.c,{message:"No matching conversations found",actionFn:function(){return t.setSearchTerm("")},actionLabel:"View all converstions"}):r.a.createElement("div",{className:"channels"},t.channelsList.map((function(e,t){return r.a.createElement(c.a,{key:t,channel:e})})))}))},HuaZ:function(e,t,n){"use strict";n.d(t,"b",(function(){return h}));var a=n("upjz"),r=n("2bPg"),i=n("BRlI"),s=n("PK3Q"),c=n("Q5Ww"),o=n("00an"),l=n("lmzO"),u=n.n(l),d=n("YqKy"),m=n("zSml"),h={AFTER_ITEMS_ADDED:"afterItemsAdded",ALL_HEIGHTS_CALCULATED:"allHeightsCalculated",BEFORE_ITEMS_ADDED:"beforeItemsAdded",LAYOUT_REFRESHED:"layoutRefreshed"},f=function(e){function t(e){var n,a=e.itemHeight,i=e.itemsCount,o=e.minHeight;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this)))._itemHeight=a,n._initialItemsCount=i,n._minHeight=o,n._createCache(),n}return Object(o.a)(t,e),Object(i.a)(t,[{key:"absoluteIndex",value:function(e){return e-this.itemMinId}},{key:"addItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"start",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.emit(h.BEFORE_ITEMS_ADDED,t);var a="start"===t?this.itemMinId:this.itemMaxId;0===this.itemsCount&&(a="start"===t?1:-1);var r=[];u()(n,(function(n){var i;i="start"===t?a-(n+1):a+(n+1),e._cache.set(i,e._defaultCacheData()),r.push(i)})),this._measureItemHeightsIfPossible(r),this._calculatePositions(),this.emit(h.AFTER_ITEMS_ADDED,t)}},{key:"itemAtPosition",value:function(e){for(var t=this.itemMinId,n=this.itemMaxId,a=t;a<=n;){var r=this.itemCache(a);if(a+=1,r.top>e)break}return a-1}},{key:"itemCache",value:function(e){return this._cache.get(e)}},{key:"itemId",value:function(e){return e+this.itemMinId}},{key:"remeasureInNextRender",value:function(e){var t=this;this.itemCache(e).measured=!1,requestAnimationFrame((function(){t.emit(h.LAYOUT_REFRESHED)}))}},{key:"reset",value:function(){var e=this;this._cache.forEach((function(t,n){e._cache.set(n,e._defaultCacheData())})),this._calculatePositions()}},{key:"updateHeight",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.itemCache(e);a.height=t,a.measured=!0,n&&this._calculatePositions()}},{key:"_calculatePositions",value:function(){for(var e=this.itemMaxId,t=this.itemMinId,n=t;n<=e;n+=1){var a=this.itemCache(n);if(n===t)a.top=0;else{var r=this.itemCache(n-1);a.top=r.height+r.top}}this.emit(h.LAYOUT_REFRESHED)}},{key:"_createCache",value:function(){this._cache=new Map;for(var e=[],t=0;t<this.initialItemsCount;t+=1)this._cache.set(t,this._defaultCacheData()),e.push(t);this._measureItemHeightsIfPossible(e),this._calculatePositions()}},{key:"_defaultCacheData",value:function(){return{height:this.minHeight,measured:!1}}},{key:"_measureItemHeightsIfPossible",value:function(e){var t=this;this.itemHeight&&e.forEach((function(e){var n=t.absoluteIndex(e),a=t.itemHeight(n);Object(d.d)(a)||t.updateHeight(e,a,!1)}))}},{key:"itemHeight",get:function(){return this._itemHeight}},{key:"initialItemsCount",get:function(){return this._initialItemsCount}},{key:"itemIds",get:function(){return this._cache.keys()}},{key:"itemMaxId",get:function(){return Math.max.apply(Math,Object(a.a)(this.itemIds))}},{key:"itemMinId",get:function(){return Math.min.apply(Math,Object(a.a)(this.itemIds))}},{key:"itemsCount",get:function(){return this._cache.size}},{key:"minHeight",get:function(){return this._minHeight}},{key:"scrollHeight",get:function(){var e=0;return this._cache.forEach((function(t){return e+=t.height})),e}}]),t}(m.a);t.a=f},IJNI:function(e,t,n){"use strict";var a=n("g4DW"),r=n("7cf5"),i=n("gbB/"),s=n.n(i),c=n("i5Br"),o=n.n(c),l=n("q7zV"),u=n("y1EJ"),d=n("+tDs");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}t.a=Object(d.d)((function(e){var t=e.className,n=e.component,i=e.iconName,c=e.item,d=e.isNew,h=e.withBadge,f=(e.isVisible,Object(r.a)(e,["className","component","iconName","item","isNew","withBadge","isVisible"])),b=o()("sidebar__item-text",{"sidebar__item-text--new":d||!1});return s.a.createElement(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:o()("sidebar__item",Object(a.a)({},t,t))},f),[i?s.a.createElement(l.a,{key:"icon",name:i,className:"sidebar__item-icon"},h&&s.a.createElement(u.a,{position:{top:"1rem",right:"1rem"},style:{minWidth:"0.5rem",minHeight:"0.5rem",borderRadius:"50%"},type:"info"})):null,s.a.createElement("span",{key:"label",className:o()("sidebar__item--text",Object(a.a)({},b,b))},c)])}))},IcAC:function(e,t,n){"use strict";var a=n("2bPg"),r=n("BRlI"),i=n("PK3Q"),s=n("Q5Ww"),c=n("00an"),o=n("v/k1"),l=n.n(o),u=n("yTEK"),d=n("eDUW"),m=n.n(d),h=n("U8xz"),f=n("6Cf1"),b=n("jd6j"),g=function(e){function t(e,n){var r;return Object(a.a)(this,t),(r=Object(i.a)(this,Object(s.a)(t).call(this,e))).isEditing=!1,r.editBody="",r.isFirstUnread=!1,r.isUpdating=!1,r.updateError=null,r.update=Object(u.i)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isUpdating=!0,this.updateError=null,e.prev=2,e.next=5,this._internal.updateBody(this.editBody);case 5:this._internal.body=this.editBody,this.setEditBody(""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.updateError=e.t0;case 12:this.isUpdating=!1;case 13:case"end":return e.stop()}}),e,this,[[2,9]])}))),r._channel=n,r._addSendErrorReaction(),r}return Object(c.a)(t,e),Object(r.a)(t,[{key:"getIndexInLocalMessages",value:function(){var e=this;return m()(this.channel.messages,(function(t){return t.index===e.index}))}},{key:"remeasure",value:function(){var e=this.channel.virtualizedCache,t=this.getIndexInLocalMessages(),n=e.itemId(t);e.remeasureInNextRender(n)}},{key:"setFirstUnread",value:function(e){this.isFirstUnread=e}},{key:"setEditBody",value:function(e){this.editBody=e}},{key:"setEditing",value:function(e){this.setEditBody(e?this._internal.body:""),this.isEditing=e}},{key:"_addSendErrorReaction",value:function(){var e=this;this.isLocal&&Object(u.o)((function(){return{sendFailed:e.isSendFailed,isLocal:e.isLocal}}),(function(t,n){e.remeasure(),t.isLocal||n.dispose()}))}},{key:"attributes",get:function(){return this._internal.attributes}},{key:"author",get:function(){var e=this._internal.author;if(/^[0-9]+$/.test(e)){var t=b.a.getUser(e);return t?t.friendlyName:"Loading..."}return e}},{key:"body",get:function(){return this._internal.body}},{key:"channel",get:function(){return this._channel}},{key:"index",get:function(){return this._internal.index}},{key:"isLocal",get:function(){return this._internal.isLocalMessage}},{key:"isMine",get:function(){return this.attributes.userIdentity===h.a.user.identity}},{key:"isSendFailed",get:function(){return!!this._internal.sendError}},{key:"media",get:function(){return this._internal.media}},{key:"memberSid",get:function(){return this._internal.participantSid}},{key:"timestamp",get:function(){return this._internal.dateCreated}},{key:"type",get:function(){return"media"===this._internal.type?"media":this.attributes.widget}},{key:"uid",get:function(){return this.attributes.uid}}]),t}(f.a);Object(u.h)(g,{attributes:u.e,author:u.e,body:u.e,editBody:u.n,index:u.e,isFirstUnread:u.n,isLocal:u.e,isMine:u.e,isSendFailed:u.e,media:u.e,setEditBody:u.d,setEditing:u.d,setFirstUnread:u.d,timestamp:u.e,type:u.e,uid:u.e}),t.a=g},J9lY:function(e,t,n){"use strict";n.r(t);var a=n("gbB/"),r=n.n(a),i=n("rGHg"),s=n.n(i),c=(n("ndbD"),n("CYm0")),o=n("5icY"),l=n("6p2F"),u=n("CkGp"),d=n("cmVN"),m=n("RDDE"),h=n("MQhT");Object(c.b)(),window.IBChat={isWidget:!1,standalone:function(){s.a.render(r.a.createElement(o.a.Provider,{value:!1},r.a.createElement(u.a,null)),document.getElementById("root")),Object(l.a)("mode","standalone")},widget:function(e){window.IBChat.isWidget=!0,s.a.render(r.a.createElement(o.a.Provider,{value:!0},r.a.createElement(d.a,null)),document.getElementById(e)),Object(l.a)("mode","widget")},openChatWindow:function(e){m.a.channels.get(e)?h.a.openWindow(e):m.a.load(!0)},loadChannels:function(){m.a.load(!0)}}},KCm9:function(e,t,n){"use strict";var a=n("dotr");n.d(t,"a",(function(){return a.a}));var r=n("ycTB");n.d(t,"b",(function(){return r.a}));n("miD3")},L7p7:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("qqUr"),s=n("tKK5"),c=n("ZUQt");t.a=Object(i.b)("galleryStore")((function(e){var t=e.galleryStore;return Object(a.useEffect)((function(){function e(e){var n=new c.a(e);n.didPress("left")?t.previous():n.didPress("right")&&t.next()}return t.isOpen&&window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t.isOpen]),r.a.createElement(s.T,{isFlat:!0,isOpen:t.isOpen,onClose:function(){return t.setImages([],0)},title:"Gallery"},r.a.createElement("div",{className:"gallery"},r.a.createElement("div",{className:"gallery__image"},t.currentImage&&r.a.createElement("img",{alt:"Attachment",src:t.currentImage})),r.a.createElement("div",{className:"gallery__control gallery__control--left"},t.hasPrevious&&r.a.createElement(s.Bb,{className:"btn btn-primary btn-icon btn-round",onClick:function(){return t.previous()}},r.a.createElement(s.N,{name:"arrow-left"}))),r.a.createElement("div",{className:"gallery__control gallery__control--right"},t.hasNext&&r.a.createElement(s.Bb,{className:"btn btn-primary btn-icon btn-round",onClick:function(){return t.next()}},r.a.createElement(s.N,{name:"arrow-right"}))),r.a.createElement("div",{className:"gallery__legend"},"Image"," ",t.currentIndex+1," ","/"," ",t.images.length)))}))},LEfV:function(e,t,n){"use strict";var a=n("g4DW"),r=n("gbB/"),i=n.n(r),s=n("i5Br"),c=n.n(s),o=n("tKK5");function l(e){var t=e.className,n=e.label,r=e.onClick;return(i.a.createElement("a",{className:c()("c-notification__action",Object(a.a)({},t,t)),onClick:r},n))}function u(e){var t=e.body,n=e.bodyClassName,r=e.cancelLabel,s=e.icon,u=e.okLabel,d=e.onCancel,m=e.onOk,h=e.title,f=e.type;return i.a.createElement("div",{className:c()("c-notification","c-notification--".concat(f))},i.a.createElement("div",{className:"c-notification__icon"},i.a.createElement(o.N,{name:s})),i.a.createElement("div",{className:"c-notification__content"},h&&i.a.createElement("div",{className:"c-notification__title"},h),i.a.createElement("div",{className:c()("c-notification__body",Object(a.a)({},n,n))},t),i.a.createElement("div",{className:"c-notification__actions"},m&&u&&i.a.createElement(l,{className:"link",label:u,onClick:m}),d&&r&&i.a.createElement(l,{label:r,onClick:d}))))}u.defaultProps={type:"info"},t.a=u},"LUL+":function(e,t,n){"use strict";var a=n("g4DW"),r=n("2bPg"),i=n("BRlI"),s=n("PK3Q"),c=n("Q5Ww"),o=n("00an"),l=n("gbB/"),u=n.n(l),d=n("i5Br"),m=n.n(d),h=n("uxDS"),f=n.n(h),b=n("+8Ho"),g=n.n(b),p=n("Z/sY"),v=n.n(p),_=n("qiqJ"),y=n("HuaZ"),E=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={isScrolling:!1,renderCount:0,renderItemIds:[],updatesReceived:0},n.scrollToIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,a=n.props.cache,r=a.itemId(e),i=a.itemCache(r);requestAnimationFrame((function(){return n.updateScrollTop(i.top-t)}))},n.updateScrollTop=function(e){n._elementRef.current.scrollTop=e,n._updateRenderableItemIds()},n._handleCacheUpdate=function(){var e=n.state.updatesReceived;n.setState({updatesReceived:e+1})},n._handleAfterItemsAdded=function(e){var t=n.props.afterItemsAdded;n._updateRenderableItemIds(),t&&t(e,n._elementRef.current)},n._handleBeforeItemsAdded=function(e){var t=n.props.beforeItemsAdded;t&&t(e,n._elementRef.current)},n._handleScroll=function(e){var t=n.props.onScroll;n.state.isScrolling||n._handleScrollingStarted(),n._updateRenderableItemIds(),t&&t(e),n._handleScrollingStopped()},n._handleScrollingStarted=function(){n.setState({isScrolling:!0})},n._handleScrollingStopped=f()((function(){n.setState({isScrolling:!1})}),100),n._updateRenderableItemIds=v()((function(){var e=n.props,t=e.cache,a=e.overscanCount,r=n.state.renderCount,i=n._elementRef.current,s=n._headerRef.current,c=t.itemAtPosition(i.scrollTop-s.offsetHeight),o=Math.max(c-a,t.itemMinId),l=Math.min(o+r+a,t.itemMaxId+1),u=g()(o,l);n.setState({renderItemIds:u})}),200),n._rowUi=function(e,t){var a=n.props,r=a.cache,i=a.itemRenderer,s=r.itemCache(e),c=r.absoluteIndex(e);return u.a.createElement(_.a,{key:t,cache:r,index:c,itemId:e,itemRenderer:i,measured:s.measured})},n._elementRef=Object(l.createRef)(),n._headerRef=Object(l.createRef)(),n._restoredScroll=!1,n}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.cache;this._calculateRenderablesCount(),e.on(y.b.AFTER_ITEMS_ADDED,this._handleAfterItemsAdded),e.on(y.b.BEFORE_ITEMS_ADDED,this._handleBeforeItemsAdded),e.on(y.b.LAYOUT_REFRESHED,this._handleCacheUpdate)}},{key:"componentDidUpdate",value:function(){this._restoredScroll||(this.updateScrollTop(this.props.initialScrollTop),this._restoredScroll=!0)}},{key:"componentWillUnmount",value:function(){var e=this.props.cache;e.off(y.b.AFTER_ITEMS_ADDED,this._handleAfterItemsAdded),e.off(y.b.BEFORE_ITEMS_ADDED,this._handleBeforeItemsAdded),e.off(y.b.LAYOUT_REFRESHED,this._handleCacheUpdate),this._updateRenderableItemIds.cancel()}},{key:"_calculateRenderablesCount",value:function(){var e=this.props,t=e.cache,n=e.overscanCount,a=this._elementRef.current,r=parseInt(a.offsetHeight/t.minHeight,10)+2*n;this.setState({renderCount:r},this._updateRenderableItemIds)}},{key:"_wrapperStyle",value:function(){return{position:"relative",height:this.props.cache.scrollHeight}}},{key:"_headerUi",value:function(){var e=this.props,t=e.headerContainerClass,n=e.headerRenderer;return u.a.createElement("div",{className:m()("virtualized__header",Object(a.a)({},t,t)),id:"virtualized-header",ref:this._headerRef},n())}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.contentClass,r=e.isScrollLocked,i=this.state,s=i.isScrolling,c=i.renderItemIds,o=this._wrapperStyle();return u.a.createElement("div",{className:m()("virtualized scroll",{"virtualized--locked":r},{"virtualized--scrolling":s},Object(a.a)({},t,t)),onScroll:this._handleScroll,ref:this._elementRef},this._headerUi(),u.a.createElement("div",{className:m()("virtualized__content",Object(a.a)({},n,n)),style:o},c.map(this._rowUi)))}}]),t}(l.Component);E.defaultProps={headerRenderer:function(){return null},isScrollLocked:!1,overscanCount:15},t.a=E},MQhT:function(e,t,n){"use strict";var a=n("2bPg"),r=n("BRlI"),i=n("yTEK"),s=n("BtQs"),c=n.n(s),o=n("cBH1"),l="".concat("chat.widget",".isListOpen"),u=JSON.parse(localStorage.getItem(l)),d=function(){function e(){var t=this;Object(a.a)(this,e),this.listWindow=new o.b("main",320,u),this.chatWindows=i.n.array([],{deep:!1}),this.getChatWindow=function(e){return t.chatWindows.find((function(t){return t.id===e}))},this._addListWindowListeners()}return Object(r.a)(e,[{key:"destroyWindow",value:function(e){c()(this.chatWindows,(function(t){return t.id===e&&(t.dispose(),!0)}))}},{key:"openWindow",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.chatWindows.find((function(t){return t.id===e}));if(t&&(this.listWindow.blur(),this.chatWindows.forEach((function(e){return e.blur()}))),n)t?n.openAndFocus():n.open();else{var a=new o.b(e,o.a,!0,t);this.chatWindows.push(a);var r=this.chatWindows.length-2;if(r>0){var i=this.chatWindows.splice(0,r);i.forEach((function(e){return e.dispose()}))}}}},{key:"_addListWindowListeners",value:function(){this.listWindow.on("open",(function(){localStorage.setItem(l,!0)})),this.listWindow.on("close",(function(){localStorage.setItem(l,!1)}))}},{key:"isListOpen",get:function(){return this.listWindow.isOpen}}]),e}();Object(i.h)(d,{destroyWindow:i.d.bound,isListOpen:i.e,listWindow:i.n.ref,openWindow:i.d.bound}),t.a=new d},NZqM:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a={breaks:!0,linkTarget:"_blank",html:!0},r={html:!1}},OnEy:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("boeR"),s=n("5gM2"),c=n("i5Br"),o=n.n(c),l=n("6WMW"),u=n.n(l),d=n("sMi8"),m=n("0zje"),h=n("tKK5"),f=n("qqUr"),b=n("6p2F"),g=(n("VBMs"),n("H2h/")),p=n("Y9Ba"),v=n("MQhT");var _=u()(f.a,s.d);t.a=_((function(e){var t,n,a=e.channel,s=e.isWidget,c=!a.isActive&&a.unreadMessagesCount>0;return a.isLoaded?(s?(t="div",n={onClick:function(e){e.stopPropagation(),v.a.openWindow(a.sid),Object(b.a)("channel-open",a.sid)}}):(t=i.NavLink,n={activeClassName:"channel-tile--active",onClick:function(){return Object(b.a)("channel-open",a.sid)},to:"/d/".concat(a.sid)}),r.a.createElement(t,Object.assign({className:o()("channel-tile",{"channel-tile--unread":c})},n),r.a.createElement("div",{className:"channel-tile__row"},r.a.createElement("div",{className:o()("channel-tile__name",{"channel-tile__name--online":a.isOnline})},r.a.createElement(h.N,{className:"m-r-10",name:Object(d.b)(a)}),r.a.createElement("span",null,a.displayName)),a.lastMessage?r.a.createElement("div",{className:"channel-tile__timestamp"},Object(m.s)(a.lastMessage.timestamp)):null),r.a.createElement("div",{className:"channel-tile__row"},r.a.createElement("div",{className:"channel-tile__trailer"},a.lastMessage?r.a.createElement(p.a,{isTrailer:!0,message:a.lastMessage}):a.isLoading?"Loading...":a.loadError?"Failed to load message":"No messages yet"),r.a.createElement(g.a,{count:a.unreadMessagesCount})))):a.loadError?r.a.createElement("div",{className:"channel-tile"},r.a.createElement("p",null,"Failed to load"),r.a.createElement(h.Bb,{className:"btn btn-small btn-primary",onClick:function(){return a.load()}},"Try Again")):r.a.createElement("div",{className:"channel-tile"},r.a.createElement(h.ob,{className:"m-b-10",width:"70%",variant:"text"}),r.a.createElement(h.ob,{variant:"text",width:"50%"}))}))},PGGA:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a);t.a=function(e){var t=e.shortcut.split(" + ");return r.a.createElement("div",{className:"keyboard"},t.map((function(e,t){return r.a.createElement("div",{key:t,className:"keyboard__button"},r.a.createElement("span",null,e.trim()))})))}},PJFo:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("5oKU"),s=n("u+qh"),c=n("H6o4"),o=n("d7XB");t.a=function(){return r.a.createElement("div",{className:"channels-page c-panel"},r.a.createElement("div",{className:"channels-page__header c-panel__header"},r.a.createElement("h3",{className:"no-mgn-b"},i.a)),r.a.createElement("div",{className:"channels-page__body c-panel__body"},r.a.createElement(o.a,null),r.a.createElement(s.a,null),r.a.createElement(c.a,null)))}},PfUV:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("5gM2"),s=n("5oKU"),c=n("qqUr"),o=n("6p2F"),l=n("evZc"),u=n("u+qh"),d=n("H6o4"),m=n("Xc+P"),h=n("H2h/"),f=n("d7XB"),b=Object(c.c)(d.a);t.a=Object(c.b)("clientStore","channelsStore","widgetStore")((function(e){var t=e.channelsStore,n=e.clientStore,c=e.widgetStore;Object(a.useEffect)((function(){n.load()}),[]);var d=c.listWindow;return r.a.createElement(l.d,{widgetWindow:d},r.a.createElement(l.c,{actions:[r.a.createElement(i.a,{key:"minimise-chat"},(function(){return r.a.createElement(l.a,{icon:d.isOpen?"minimize":"maximize",onClick:d.toggle})})),r.a.createElement(l.a,{key:"open-chat",icon:"external-link",href:"/chat",onClick:function(){return Object(o.a)("open-standalone","channel-list")},target:"_blank"})],widgetWindow:d},r.a.createElement("span",null,s.a),r.a.createElement(h.a,{count:t.unreadMessagesCount})),r.a.createElement(l.b,{widgetWindow:d},r.a.createElement(m.a,null),r.a.createElement(f.a,null),r.a.createElement(u.a,null),r.a.createElement(b,null)))}))},QE7l:function(e,t,n){"use strict";var a=n("DjBF"),r=n("gbB/"),i=n.n(r),s=n("i5Br"),c=n.n(s),o=n("6WMW"),l=n.n(o),u=n("/NvB"),d=n.n(u),m=n("tKK5"),h=n("230Q"),f=n("qqUr"),b=n("+tDs"),g=n("VBJD"),p=n("RRXn"),v=n("6p2F"),_=(n("VBMs"),n("ZUQt")),y=n("MQhT");var E=l()(f.a,b.b,Object(f.b)("clientStore"));t.a=E((function(e){var t=e.channel,n=e.clientStore,s=e.isMobile,o=e.isWidget,l=s||o,u=Object(r.useRef)(),f=Object(r.useState)(!1),b=Object(a.a)(f,2),E=b[0],O=b[1];Object(r.useEffect)((function(){function e(){u.current.focus()}if(o){var n=y.a.getChatWindow(t.sid);return n.on("focus",e),function(){return n.off("focus",e)}}}),[t,o]);var k=Object(r.useCallback)((function(e){t.setMessageInput(e.target.value)}),[t]),j=Object(r.useCallback)((function(e){t.setCursorPositon(e.target.selectionStart)}),[t]),w=Object(r.useCallback)((function(e){var n=Object(h.g)(t.messageInput,e.colons,t.cursorPosition);t.setMessageInput(n);var a=t.cursorPosition+e.colons.length;u.current.focusAtPosition(a),O(!1),Object(v.a)("emoji-select",e.colons)}),[t]),M=Object(r.useCallback)((function(e){var n=new _.a(e);n.didPress("enter")&&!n.didPress("shift+enter")&&(e.preventDefault(),t.sendMessage(),Object(v.a)("send-message","keyboard")),t.typing()}),[t]),C=Object(r.useCallback)((function(){t.sendMessage(),u.current.focus(),Object(v.a)("send-message","button")}),[t]);function N(){return i.a.createElement(m.Bb,{className:"btn btn-icon btn-inverted m-r-5",onClick:function(){return t.setUploadModalOpen(!0)}},i.a.createElement(m.N,{name:"attach"}))}function S(){return i.a.createElement(g.a,{autoFocus:!0,containerClass:"chat-input__mde",onChange:k,onKeyDown:M,placeholder:"Type message",ref:u,required:!0,value:t.messageInput,onBlur:j})}function x(){return i.a.createElement(m.Bb,{className:"btn btn-icon btn-inverted m-r-5",onClick:function(){n.setHintsModalOpen(!0),Object(v.a)("input-hints","open")}},i.a.createElement(m.N,{name:"info"}))}function I(){return i.a.createElement(d.a,{containerClassName:c()("react-root","chat-input__emoji-picker",{"chat-input__emoji-picker--widget":o}),content:i.a.createElement(m.C,{onSelect:w}),isOpen:E,onClickOutside:function(){return O(!1)},position:"top",transitionDuration:.18},i.a.createElement(m.Bb,{className:"btn btn-icon btn-inverted m-r-5",onClick:function(){return O(!E)}},i.a.createElement(m.N,{name:"emoji"})))}return t.isReadOnly?i.a.createElement(p.b,{bodyClassName:"h6 italic",body:" You can no longer chat with your old mentor. The chat texts have been rekindled to help you recover your notes and interactions with the previous mentors during old sessions. However you'll not be able to continue the discussion further. ",icon:"info",type:"neutral"}):t.isSystem?i.a.createElement(p.b,{bodyClassName:"h6 italic",body:" You cannot reply to this chatbox as this is system generated and not monitored. ",icon:"info",type:"neutral"}):i.a.createElement("form",{className:c()("chat-input",{"chat-input--loose":l}),onSubmit:t.sendMessage},l?i.a.createElement("div",{className:"chat-input__controls"},i.a.createElement("div",{className:"chat-input__controls-row"},S()),i.a.createElement("div",{className:"chat-input__controls-row"},i.a.createElement("div",{className:"chat-input__controls-left"},N(),x()),i.a.createElement("div",{className:"chat-input__controls-right"},I(),i.a.createElement(m.Bb,{className:c()("btn btn-primary btn-icon m-r-5",{"btn-disabled":!t.canSendMessage}),onClick:C},i.a.createElement(m.N,{name:"send"}))))):i.a.createElement("div",{className:"chat-input__controls"},N(),S(),x(),I()))}))},"Qc0+":function(e,t,n){"use strict";var a=n("butC"),r=n("2bPg"),i=n("BRlI"),s=n("v/k1"),c=n.n(s),o=n("yTEK"),l=n("CYm0"),u=n("44ut"),d=n("MNJQ"),m=n.n(d),h=n("FjWE"),f={granted:"granted",denied:"denied",notDetermined:"default"},b=function(){function e(){Object(r.a)(this,e),this.isPrompting=!1,this.isGranted=!1,this.canPrompt=!1,this.evaluateStatus=Object(o.i)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.d){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,Notification.permission!==f.granted){e.next=16;break}return e.prev=4,e.next=7,this._updateFcmToken();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.warn("Failed to update notification token",e.t0);case 12:this.canPrompt=!1,this.isGranted=!0,e.next=17;break;case 16:Notification.permission===f.denied?(this.canPrompt=!1,this.isGranted=!1):(this.canPrompt=!0,this.isGranted=!1);case 17:e.next=21;break;case 19:e.prev=19,e.t1=e.catch(2);case 21:case"end":return e.stop()}}),e,this,[[2,19],[4,9]])}))),this.prompt=Object(o.i)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canPrompt&&!this.isPrompting){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Notification.requestPermission();case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:return e.next=11,this.evaluateStatus();case 11:this.isPrompting=!1;case 12:case"end":return e.stop()}}),e,this,[[2,7]])})))}var t;return Object(i.a)(e,[{key:"askLater",value:function(){this.canPrompt=!1}},{key:"_updateFcmToken",value:(t=Object(a.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)();case 2:return t=e.sent,n=h.a.getClient(),e.next=6,n.setPushRegistrationId("fcm",t);case 6:m.a.messaging().onMessage((function(e){n.handlePushNotification(e)}));case 7:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"shouldShowNotification",get:function(){return u.d&&this.canPrompt&&!this.isPrompting}}]),e}();Object(o.h)(b,{askLater:o.d,canPrompt:o.n,isGranted:o.n,isPrompting:o.n,shouldShowNotification:o.e}),t.a=new b},RDDE:function(e,t,n){"use strict";var a=n("2bPg"),r=n("BRlI"),i=n("v/k1"),s=n.n(i),c=n("yTEK"),o=n("kFaK"),l=n.n(o),u=n("230Q"),d=n("VBMs"),m=n("YjkG"),h=function(){function e(){var t=this;Object(a.a)(this,e),this.channels=c.n.map({},{deep:!1}),this.searchTerm="",this.isLoading=!1,this.loadError=null,this.createOrUpdateChannel=function(e){var n,a=e.sid;return t.channels.has(a)?(n=t.channels.get(a)).updateInstance(e):(n=new d.b(e),t.channels.set(a,n)),n},this.load=Object(c.i)(s.a.mark((function e(){var t,n=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>0&&void 0!==n[0]&&n[0]||!this.isLoaded){e.next=3;break}return e.abrupt("return");case 3:if(!this.isLoading){e.next=5;break}return e.abrupt("return");case 5:return this.isLoading=!0,this.loadError=null,e.prev=7,e.next=10,m.a.getChannels();case 10:t=e.sent,this._createBaseChannels(t),this.isLoading=!1,e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),this.loadError=e.t0,this.isLoading=!1;case 19:case"end":return e.stop()}}),e,this,[[7,15]])})))}return Object(r.a)(e,[{key:"getChannel",value:function(e){return this.channels.has(e)?this.channels.get(e):null}},{key:"setSearchTerm",value:function(e){this.searchTerm=e}},{key:"_createBaseChannels",value:function(e){var t=this;e.forEach((function(e){var n=e.sid;if(!t.channels.has(n)){var a=new d.b(null,e);t.channels.set(n,a)}}))}},{key:"channelsList",get:function(){var e=[],t=Object(u.h)(this.searchTerm);return this.channels.forEach((function(n){var a=!0;t&&(a=!!n.isLoaded&&Object(u.h)(n.displayName).includes(t));a&&e.push(n)})),l()(e,(function(e){return e.lastActivityAt}),["desc"])}},{key:"isLoaded",get:function(){return this.channels.size>0}},{key:"isSearchEnabled",get:function(){return this.channels.size>3}},{key:"unreadMessagesCount",get:function(){for(var e=0,t=0;t<this.channelsList.length;t+=1){if((e+=this.channelsList[t].unreadMessagesCount)>9)break}return e}}]),e}();Object(c.h)(h,{channelsList:c.e,createOrUpdateChannel:c.d,isLoaded:c.e,isLoading:c.n,isSearchEnabled:c.e,loadError:c.n.ref,searchTerm:c.n,setSearchTerm:c.d}),t.a=new h},RRQN:function(e,t,n){"use strict";var a=n("7cf5"),r=n("gbB/"),i=n.n(r),s=n("tKK5"),c=n("nz4c");t.a=function(e){var t=e.children,n=e.renderSingletons,r=void 0!==n&&n,o=e.namespace,l=e.alertProps,u=void 0===l?{}:l,d=e.dialogProps,m=void 0===d?{}:d,h=Object(a.a)(e,["children","renderSingletons","namespace","alertProps","dialogProps"]);return i.a.createElement(s.ub,h,i.a.createElement(s.D,null,t,r&&i.a.createElement(i.a.Fragment,null,i.a.createElement(s.b,Object.assign({name:o},u)),i.a.createElement(s.w,Object.assign({name:o},m)),i.a.createElement(s.Fb,null),i.a.createElement(s.qb,null)),i.a.createElement(c.a,null)))}},RRXn:function(e,t,n){"use strict";var a=n("PGGA");n.d(t,"a",(function(){return a.a}));var r=n("LEfV");n.d(t,"b",(function(){return r.a}))},S9jP:function(e,t,n){"use strict";var a=n("2bPg"),r=n("BRlI"),i=n("44ut"),s=n("ZlD0"),c=n("MQhT"),o=new Audio(s.a),l=function(){function e(){Object(a.a)(this,e),this._act()}return Object(r.a)(e,[{key:"_act",value:function(){!window.IBChat.isWidget||c.a.isListOpen?Object(i.e)()&&this._ring():this._ring()}},{key:"_ring",value:function(){o.play(),o.currentTime=0}}]),e}();t.a=l},U8xz:function(e,t,n){"use strict";var a=n("2bPg"),r=n("BRlI"),i=n("v/k1"),s=n.n(i),c=n("yTEK"),o=n("+fdq"),l=n.n(o),u=n("YqKy"),d=n("6p2F"),m=n("RDDE"),h=n("S9jP"),f=n("Qc0+"),b=n("FjWE"),g=n("jd6j"),p=["channelInvited","channelUpdated","channelLeft","channelRemoved","connectionError","connectionStateChanged","memberJoined","memberLeft","memberUpdated","messageAdded","messageRemoved","messageUpdated","tokenAboutToExpire","tokenExpired","typingEnded","typingStarted","userSubscribed","userUpdated"],v=function(){function e(){var t=this;Object(a.a)(this,e),this.connectionState=null,this.isHintsModalOpen=!1,this.isLoading=!1,this.isUpdatingToken=!1,this.loadError=null,this.terminated=!1,this.terminationReason=null,this.tokenStatus=null,this.updateTokenError=null,this._internalClient=null,this.load=Object(c.i)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLoading&&!this.isLoggedIn){e.next=2;break}return e.abrupt("return");case 2:return this.isLoading=!0,this.loadError=null,e.prev=4,e.next=7,b.a.initialize();case 7:t=e.sent,this._internalClient=t,this._init(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),this.loadError=e.t0;case 15:this.isLoading=!1;case 16:case"end":return e.stop()}}),e,this,[[4,12]])}))),this.updateToken=Object(c.i)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isUpdatingToken){e.next=2;break}return e.abrupt("return");case 2:return this.isUpdatingToken=!0,this.updateTokenError=null,e.prev=4,e.next=7,b.a.updateToken();case 7:this._setTokenStatus("safe"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),this.updateTokenError=e.t0;case 13:this.isUpdatingToken=!1;case 14:case"end":return e.stop()}}),e,this,[[4,10]])}))),this._onChannelAdded=m.a.createOrUpdateChannel,this._onChannelInvited=m.a.createOrUpdateChannel,this._onChannelJoined=m.a.createOrUpdateChannel,this._onChannelLeft=function(e){var t=m.a.getChannel(e.sid);t&&t.setCustomStatus("left")},this._onChannelRemoved=function(e){var t=m.a.getChannel(e.sid);t&&t.setCustomStatus("removed")},this._onChannelUpdated=function(e){var t=e.channel;return m.a.createOrUpdateChannel(t)},this._onConnectionError=function(e){t.terminated=e.terminal,t.terminationReason=e.message,Object(d.a)("connection-error",e.message)},this._onConnectionStateChanged=function(e){t.connectionState=e},this._onMemberJoined=function(e){return t._handleMemberUpdate(e)},this._onMemberLeft=function(e){},this._onMemberUpdated=function(e){var n=e.member;return t._handleMemberUpdate(n)},this._onMessageAdded=function(e){return t._handleMessageUpdate(e,"end")},this._onMessageRemoved=function(e){},this._onMessageUpdated=function(e){var n=e.message;return t._handleMessageUpdate(n)},this._onTokenAboutToExpire=function(){return t._setTokenStatus("expiring")},this._onTokenExpired=function(){return t._setTokenStatus("expired")},this._onTypingEnded=function(e){return t._handleMemberUpdate(e,!1)},this._onTypingStarted=function(e){return t._handleMemberUpdate(e,!0)},this._onUserSubscribed=g.a.createOrUpdateUser,this._onUserUpdated=function(e){var t=e.user;return g.a.createOrUpdateUser(t)},this._handleMemberUpdate=function(e,t){var n=e.conversation;m.a.createOrUpdateChannel(n).createOrUpdateMember(e,t)},this._handleMessageUpdate=function(e,t){var n=e.conversation,a=m.a.createOrUpdateChannel(n).saveMessage(e,t);"end"!==t||a.isMine||new h.a},this._setTokenStatus=function(e){t.tokenStatus=e,["expiring","expired"].includes(e)&&(t.updateToken(),Object(d.a)("token-update","auto")),Object(d.a)("token-status",e)}}return Object(r.a)(e,[{key:"destroy",value:function(){this._internalClient?this._internalClient.shutdown():console.warn("Tried destroying client before intializing it!")}},{key:"setHintsModalOpen",value:function(e){this.isHintsModalOpen=e}},{key:"_attachListeners",value:function(){var e=this;p.forEach((function(t){var n="_on".concat(l()(t));Object(u.c)(e[n])?e._internalClient.on(t,e[n]):console.warn("No handler found for the event '".concat(t,"'. Create a function ")+"whose name is ".concat(n," or if you already did then you most ")+"probably mispelled the function name.")}))}},{key:"_init",value:function(){this._setTokenStatus("safe"),m.a.load(),g.a.load(),f.a.evaluateStatus(),this._attachListeners(),this.connectionState=this._internalClient.connectionState}},{key:"isLoggedIn",get:function(){return!!this._internalClient}},{key:"user",get:function(){return this.isLoggedIn&&this._internalClient.user}}]),e}();Object(c.h)(v,{_init:c.d,_internalClient:c.n.ref,_onConnectionError:c.d,_onConnectionStateChange:c.d,_setTokenStatus:c.d,connectionState:c.n,isHintsModalOpen:c.n,isLoading:c.n,isLoggedIn:c.e,isUpdatingToken:c.n,loadError:c.n.ref,setHintsModalOpen:c.d,terminated:c.n,tokenStatus:c.n,updateTokenError:c.n.ref,user:c.e});var _=new v;t.a=_},UcDd:function(e,t,n){"use strict";var a=n("tryK");n.d(t,"a",(function(){return a.a}));var r=n("W+XG");n.d(t,"b",(function(){return r.a}));var i=n("2u0L");n.d(t,"c",(function(){return i.a}));var s=n("3bhF");n.d(t,"d",(function(){return s.a}));var c=n("0qOM");n.d(t,"e",(function(){return c.a}));var o=n("dv5D");n.d(t,"f",(function(){return o.a}))},VBJD:function(e,t,n){"use strict";var a=n("ati2");n.d(t,"a",(function(){return a.a}));var r=n("enWe");n.d(t,"b",(function(){return r.a}))},VBMs:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a=n("butC"),r=n("2bPg"),i=n("BRlI"),s=n("PK3Q"),c=n("Q5Ww"),o=n("tquP"),l=n("00an"),u=n("v/k1"),d=n.n(u),m=n("yTEK"),h=n("+DcE"),f=n.n(h),b=n("0Wg4"),g=n.n(b),p=n("BtQs"),v=n.n(p),_=n("7Dn/"),y=n.n(_),E=n("sMi8"),O=n("Xmli"),k=n("/l5M"),j=n("YqKy"),w=n("5oKU"),M=n("jP46"),C=n("q4K5"),N=n("U8xz"),S=n("utkZ"),x=n("2sDo"),I=n("IcAC"),U=n("FjWE"),B=n("6Cf1"),L=n("jd6j"),P=99999999,T=function(e){function t(e,n){var i;return Object(r.a)(this,t),(i=Object(s.a)(this,Object(c.a)(t).call(this,e))).attachments=[],i.customStatus=null,i.cursorPosition=0,i.hasLoadedFewMessages=!1,i.isActive=!1,i.isLoading=!1,i.isLoadingMembers=!1,i.isLoadingMessages=!1,i.isMembersModalOpen=!1,i.isReadingOldMessages=!1,i.isUploadModalOpen=!1,i.loadError=null,i.members=m.n.map({},{deep:!1}),i.membersCount=null,i.membersLoadError=null,i.messageInput="",i.messages=m.n.array({},{deep:!1}),i.myMembership=null,i.scrollTop=P,i.typingMembers=[],i.virtualizedCache=null,i._base=null,i.createOrUpdateMember=function(e,t){i._createOrUpdateMember(e),Object(j.b)(t)&&(t?i.typingMembers=y()(i.typingMembers,[e.identity]):v()(i.typingMembers,(function(t){return t===e.identity})))},i.getMessage=function(e){var t;return e.attributes&&e.attributes.uid&&(t=i.messages.find((function(t){return t.uid===e.attributes.uid}))),t||i.messages.find((function(t){return t.index===e.index}))},i.load=Object(m.i)(d.a.mark((function e(){var t,n,a,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]&&r[0],this.isLoaded){e.next=21;break}if(!this.isLoading){e.next=4;break}return e.abrupt("return");case 4:return this.isLoading=!0,this.loadError=null,e.prev=6,n=U.a.getClient(),e.next=10,n.getConversationBySid(this.sid);case 10:a=e.sent,this.updateInstance(a),this.loadMessages(t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),this.loadError=e.t0;case 18:this.isLoading=!1,e.next=22;break;case 21:this.loadMessages(t);case 22:case"end":return e.stop()}}),e,this,[[6,15]])}))),i.loadMessages=Object(m.i)(d.a.mark((function e(){var t,n=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],!(this.isLoadingMessages||this.didFetchAllMessages||this.hasLoadedFewMessages&&!t)){e.next=3;break}return e.abrupt("return");case 3:return this.isLoadingMessages=!0,this.loadError=null,e.prev=5,e.next=8,this._loadMyMembership();case 8:if(!this._messagesPaginator){e.next=14;break}return e.next=11,this._messagesPaginator.prevPage();case 11:this._messagesPaginator=e.sent,e.next=17;break;case 14:return e.next=16,this._internal.getMessages();case 16:this._messagesPaginator=e.sent;case 17:this._updateMessages(),this.hasLoadedFewMessages=!0,e.next=24;break;case 21:e.prev=21,e.t0=e.catch(5),this.loadError=e.t0;case 24:this.isLoadingMessages=!1;case 25:case"end":return e.stop()}}),e,this,[[5,21]])}))),i.loadMembersCount=Object(m.i)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isMembersCountLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.internal.getMembersCount();case 5:t=e.sent,this.membersCount=t,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,this,[[2,9]])}))),i.loadMembers=Object(m.i)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.didFetchAllMembers){e.next=2;break}return e.abrupt("return");case 2:return this.isLoadingMembers=!0,this.membersLoadError=null,e.prev=4,e.next=7,this.internal.getMembers();case 7:t=e.sent,this._updateMembers(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),this.membersLoadError=e.t0;case 14:this.isLoadingMembers=!1;case 15:case"end":return e.stop()}}),e,this,[[4,11]])}))),i.markAllAsRead=Object(a.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=i.getLastMessage())){e.next=5;break}return e.next=4,i._internal.updateLastReadMessageIndex(t.index);case 4:i.updateInstance(i._internal);case 5:case"end":return e.stop()}}),e)}))),i.markFirstUnreadMessage=function(){for(var e=Object(o.a)(i).lastReadMessageIndex,t=i.messages.slice(),n=null,a=f()(t,(function(e){return!(e.isLocal||e.isMine)}));a>0;){var r=t[a],s=f()(t,(function(e){return!(e.isLocal||e.isMine)}),a-1);if(s<0)break;var c=t[s];if(r.index>e&&c.index<=e){n=a;break}if(r.index<=e)break;a=s}return i._setFirstUnreadMessage(n),n},i.saveMessage=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=i.getMessage(e);if(a)return a.updateInstance(e),a;a=new I.a(e,Object(o.a)(i));var r=!1;switch(t){case"start":i.messages.unshift(a),r=!0;break;case"end":i.messages.push(a),r=!0;break;default:console.warn("Ignoring update for message ".concat(e.index," in channel ")+"".concat(e.channel.sid," as user didn't yet load it!"))}return r&&n&&i._createOrUpdateVirtualizedCache(t),a},i.sendAttachments=function(){0!==i.attachments.length&&(i.attachments.forEach((function(e){var t=S.a.fromAttachment(e,{},Object(o.a)(i));i.saveMessage(t,"end")})),i.setAttachments([]),i.setUploadModalOpen(!1))},i.sendMessage=function(){if(i.canSendMessage){var e=new S.a(i.messageInput,{},Object(o.a)(i));i.saveMessage(e,"end"),i.setMessageInput("")}},i.setActive=function(e){i.isActive=e},i.setAttachments=function(e){i.attachments=e},i.setCursorPositon=function(e){i.cursorPosition=e},i.setMembersModalOpen=function(e){i.isMembersModalOpen=e},i.setMessageInput=function(e){return i.messageInput=e},i.setReadingOldMessages=function(e){return i.isReadingOldMessages=e},i.setScrollTop=function(e){i.scrollTop=e},i.setUploadModalOpen=function(e){i.isUploadModalOpen=e},i.typing=function(){return i._internal.typing()},i._createOrUpdateMember=function(e){var t=e.identity;if(i.members.has(t)){i.members.get(t).updateInstance(e)}else{var n=new x.a(e,Object(o.a)(i));i.members.set(t,n)}},i._createOrUpdateVirtualizedCache=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"start";if(i.virtualizedCache){var t=i.virtualizedCache.itemMinId,n=i.messages.length-i.virtualizedCache.itemsCount;i.virtualizedCache.addItems(e,n),i.virtualizedCache.remeasureInNextRender(t)}else i.messages.length>0&&(i.virtualizedCache=new M.a({itemsCount:i.messages.length,itemHeight:Object(O.b)(Object(o.a)(i)),minHeight:w.b}))},i._loadMyMembership=Object(m.i)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.myMembership){e.next=2;break}return e.abrupt("return");case 2:return t=U.a.getClient(),n=t.user,e.next=5,this._internal.getParticipantByIdentity(n.identity);case 5:this.myMembership=e.sent;case 6:case"end":return e.stop()}}),e,this)}))),i._base=n,i.load(),i}return Object(l.a)(t,e),Object(i.a)(t,[{key:"getImages",value:function(){var e=[];return this.messages.forEach((function(t){var n=C.a.getImage(t.uid);n&&n.isLoaded&&e.push({uid:t.uid,url:n.src})})),e}},{key:"getLastMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"any",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.messages.slice();switch(e){case"self":return g()(n,(function(e){return(t||!e.isLocal)&&e.isMine}));case"others":return g()(n,(function(e){return(t||!e.isLocal)&&!e.isMine}));default:return g()(n,(function(e){return t||!e.isLocal}))}}},{key:"setCustomStatus",value:function(e){this.customStatus=e}},{key:"_setFirstUnreadMessage",value:function(e){var t=this._firstUnreadMessage;if(t){t.setFirstUnread(!1);var n=f()(this.messages,(function(e){return e.index===t.index})),a=this.virtualizedCache.itemId(n);this.virtualizedCache.remeasureInNextRender(a),this._firstUnreadMessage=null}if(e){var r=this.messages[e];r.setFirstUnread(!0);var i=this.virtualizedCache.itemId(e);this.virtualizedCache.remeasureInNextRender(i),this._firstUnreadMessage=r}}},{key:"_updateMembers",value:function(e){e.forEach(this._createOrUpdateMember)}},{key:"_updateMessages",value:function(){var e=this;this._messagesPaginator.items.reverse().forEach((function(t){return e.saveMessage(t,"start",!1)})),this._createOrUpdateVirtualizedCache(),this.markFirstUnreadMessage()}},{key:"attributes",get:function(){return this._internal.attributes||{}}},{key:"canSendMessage",get:function(){return this.messageInput&&""!==this.messageInput.trim()}},{key:"didFetchAllMembers",get:function(){return this.members.size===this.membersCount}},{key:"didFetchAllMessages",get:function(){return!Object(k.b)(this._messagesPaginator,"hasPrevPage",!0)}},{key:"displayName",get:function(){switch(this.type){case"direct":return this.participant.name;case"ssmGroup":return"SSM Mentees | ".concat(this.leadUser.name);default:return this.friendlyName||this.uniqueName}}},{key:"friendlyName",get:function(){return this._internal.friendlyName}},{key:"leadUser",get:function(){return this.attributes.user}},{key:"hasNoMessages",get:function(){return this.didFetchAllMessages&&0===this.messages.length}},{key:"isGroup",get:function(){return"direct"!==this.type}},{key:"isLoaded",get:function(){return!!this._internal}},{key:"isMembersCountLoaded",get:function(){return Object(j.e)(this.membersCount)}},{key:"isOnline",get:function(){return this.participantUser&&this.participantUser.isOnline}},{key:"isPrivate",get:function(){return this._internal.isPrivate}},{key:"isReadOnly",get:function(){return!!this._base&&"read_only"===this._base.status}},{key:"isSystem",get:function(){return!!this._base&&"system"===this._base.status}},{key:"lastActivityAt",get:function(){return this.lastMessage?this.lastMessage.dateCreated:this._base?new Date(this._base.last_active_at).getTime():-1}},{key:"lastMessage",get:function(){var e=this.messages.length;return e>0?this.messages[e-1]:null}},{key:"lastReadMessageIndex",get:function(){var e=this._internal.lastReadMessageIndex;return Object(j.d)(e)?-1:e}},{key:"membersList",get:function(){return Array.from(this.members.values())}},{key:"participant",get:function(){if("direct"!==this.type)return null;var e=this.attributes,t=e.user1,n=e.user2;return"".concat(t.id)===N.a.user.identity?n:t}},{key:"participantUser",get:function(){if("direct"!==this.type)return null;var e="".concat(this.participant.id);return L.a.getUser(e)}},{key:"sid",get:function(){return this._internal?this._internal.sid:this._base.sid}},{key:"status",get:function(){return this.customStatus||this._internal.status}},{key:"type",get:function(){if(!this.isLoaded)return null;switch(this.attributes.type){case E.a.DIRECT_CHAT:return"direct";case E.a.SUCCESS_MANAGER:return"ssmGroup";default:return this._internal.type}}},{key:"uniqueName",get:function(){return this._internal.uniqueName}},{key:"unreadMessagesCount",get:function(){var e=this.messages.length;if(0===e)return 0;for(var t=0,n=e-1;n>=0;n--){var a=this.messages[n];if(!a.isLocal){if(!(a.index>this.lastReadMessageIndex))break;if(!a.isMine&&t++,t>9)break}}return t}}]),t}(B.a);Object(m.h)(T,{_createOrUpdateMember:m.d,_messagesPaginator:m.n.ref,_base:m.n.ref,attachments:m.n,attributes:m.e,canSendMessage:m.e,createOrUpdateMember:m.d,customStatus:m.n,didFetchAllMessages:m.e,displayName:m.e,friendlyName:m.e,hasLoadedFewMessages:m.n,hasNoMessages:m.e,isActive:m.n,isLoaded:m.e,isLoading:m.n,isLoadingMembers:m.n,isLoadingMessages:m.n,isMembersCountLoaded:m.e,isMembersModalOpen:m.n,isPrivate:m.e,isReadOnly:m.e,isSystem:m.e,isUploadModalOpen:m.n,lastActivityAt:m.e,lastReadMessageIndex:m.e,loadError:m.n.ref,membersCount:m.n,membersList:m.e,membersLoadError:m.n.ref,messageInput:m.n,myMembership:m.n.ref,saveMessage:m.d,sendMessage:m.d,setActive:m.d,setAttachments:m.d,setCustomStatus:m.d,setMembersModalOpen:m.d,setMessageInput:m.d,setUploadModalOpen:m.d,status:m.e,type:m.e,typingMembers:m.n,unreadMessagesCount:m.e}),t.b=T},"W+XG":function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a);t.a=function(e){var t=e.type,n=e.height;switch(t){case"block":return r.a.createElement("div",{style:{height:"100%"}});case"flex-fill":return r.a.createElement("div",{style:{flex:"1 0 0"}});case"flex-auto":return r.a.createElement("div",{style:{flex:"1 0 auto"}});default:return r.a.createElement("div",{style:{height:n}})}}},WqBj:function(e,t,n){"use strict";var a=n("g4DW"),r=n("7cf5"),i=n("gbB/"),s=n.n(i),c=n("i5Br"),o=n.n(c),l=n("tKK5");t.a=function(e){e.children;var t=e.className,n=e.icon,i=Object(r.a)(e,["children","className","icon"]);return s.a.createElement(l.Bb,Object.assign({className:o()("btn btn-light btn-small cw-window__action",Object(a.a)({},t,t))},i),s.a.createElement(l.N,{name:n}))}},WwGv:function(e,t,n){"use strict";function a(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}n.d(t,"a",(function(){return a}))},"Xc+P":function(e,t,n){"use strict";var a=n("g4DW"),r=n("gbB/"),i=n.n(r),s=n("i5Br"),c=n.n(s),o=n("qqUr"),l=n("6p2F");t.a=Object(o.b)("clientStore")((function(e){var t=e.clientStore,n=function(){var e,n;return"expired"===t.tokenStatus?t.isUpdatingToken?(n="chat-status--hint",e=i.a.createElement("span",null,"Reauthenticating...")):(n="chat-status--danger",e=i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"m-r-10"},"Failed to authenticate."),i.a.createElement("a",{className:"underline",onClick:function(){t.updateToken(),Object(l.a)("token-update","manual")}},"Retry"))):t.terminated?(n="chat-status--danger",e=i.a.createElement("span",null,"Your connection to server has been terminated. (",t.terminationReason,")")):"connecting"===t.connectionState?(n="chat-status--hint",e=i.a.createElement("span",null,"Connecting...")):["disconnected","denied"].includes(t.connectionState)&&(n="chat-status--danger",e=i.a.createElement("span",null,"Not connected")),{children:e,statusClassName:n}}(),r=n.children,s=n.statusClassName;return r?i.a.createElement("div",{className:c()("chat-status",Object(a.a)({},s,s))},r):null}))},Xmli:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n("gbB/"),r=n.n(a),i=n("9MHE"),s=n("uBWv"),c="cwc-".concat(Date.now()),o="ctrr-".concat(Date.now());function l(e){var t,n,a=document.getElementById(c).offsetWidth,l=(t=a,(n=document.getElementById(o))||((n=document.createElement("div")).classList.add("message__ghost","scroll"),n.setAttribute("id",o),n.style.width="".concat(t,"px"),document.querySelector(".react-root").append(n)),n);return function(t){var n=Object(i.renderToStaticMarkup)(r.a.createElement(s.a,{channel:e,index:t}));return l.innerHTML=n,l.offsetHeight}}},Y8Ub:function(e,t,n){"use strict";var a=n("g4DW"),r=n("DjBF"),i=n("gbB/"),s=n.n(i),c=n("5gM2"),o=n("lmzO"),l=n.n(o),u=n("UcDd"),d=n("dF3F");n("VBMs");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=20,b={height:10,margin:"".concat(5,"px 0")};t.a=Object(c.d)((function(e){var t=e.channel,n=Object(i.useRef)(),a=Object(i.useState)([]),c=Object(r.a)(a,2),o=c[0],m=c[1];return Object(i.useEffect)((function(){var e=n.current.parentElement.parentElement,t=parseInt(e.offsetHeight/(2*f),10),a=[];l()(t,(function(){return a.push(h(h({},b),{},{width:"".concat(Object(d.a)(25,75),"%")}))})),m(a)}),[]),s.a.createElement("div",{ref:n},t.loadError?s.a.createElement("div",{className:"chat-window__error"},s.a.createElement(u.c,{actionFn:function(){return t.loadMessages(!0)},message:"Failed to load older messages"})):t.didFetchAllMessages?null:s.a.createElement("div",{className:"chat-window__loader"},o.map((function(e,t){return s.a.createElement("div",{key:t,className:"chat-window__shimmer",style:e})}))))}))},Y9Ba:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("CItj"),s=(n("IcAC"),n("c67h"));t.a=function(e){var t=e.isTrailer,n=e.message,a=s.a[n.type]||i.a;return r.a.createElement(a,{isTrailer:t,message:n})}},YjkG:function(e,t,n){"use strict";var a=n("butC"),r=n("v/k1"),i=n.n(r),s=n("upII");function c(){return(c=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)("POST","/chat/token");case 2:return t=e.sent,e.abrupt("return",t.twilio.jwt);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)("GET","/chat/channels");case 2:return t=e.sent,e.abrupt("return",t.channels);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a={getChannels:function(){return o.apply(this,arguments)},getToken:function(){return c.apply(this,arguments)}}},ZlD0:function(e,t,n){"use strict";t.a="https://assets.scaler.com/packs/files/ponderous.92727b.ogg"},a0Bo:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("tKK5"),s=n("DxYH");t.a=function(e){var t=e.file,n=Object(s.b)(t.type);return r.a.createElement("div",{className:"attachment-item"},r.a.createElement("div",{className:"attachment-item__icon"},r.a.createElement(i.N,{name:n})),r.a.createElement("div",{className:"attachment-item__name"},t.name))}},ati2:function(e,t,n){"use strict";var a=n("g4DW"),r=n("7cf5"),i=n("gbB/"),s=n.n(i),c=n("i5Br"),o=n.n(c),l=n("+tDs"),u=n("tKK5");t.a=Object(l.a)((function(e){var t=e.containerClass,n=e.forwardedRef,i=Object(r.a)(e,["containerClass","forwardedRef"]);return s.a.createElement("div",{className:o()("md-editor",Object(a.a)({},t,t))},s.a.createElement(u.Cb,Object.assign({ref:n},i)))}))},c67h:function(e,t,n){"use strict";var a=n("CItj"),r=n("l++b");t.a={default:a.a,media:r.a}},cBH1:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("2bPg"),r=n("BRlI"),i=n("PK3Q"),s=n("Q5Ww"),c=n("00an"),o=n("yTEK"),l=n("zSml"),u=360,d=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this))).blur=function(){return n.setFocus(!1)},n.close=function(){n.setOpen(!1),n.blur()},n.dispose=function(){n._focusReactionDisposer(),n._openReactionDisposer()},n.focus=function(){return n.setFocus(!0)},n.open=function(){return n.setOpen(!0)},n.openAndFocus=function(){n.open(),n.focus()},n.toggle=function(){return n.setOpen(!n.isOpen)},n.id=e,n.width=r,n.isOpen=c,n.isFocused=o,n._configureEvents(),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"setFocus",value:function(e){this.isFocused=e}},{key:"setOpen",value:function(e){this.isOpen=e}},{key:"_configureEvents",value:function(){var e=this;this._focusReactionDisposer=Object(o.o)((function(){return e.isFocused}),(function(t){return e.emit(t?"focus":"blur",e)}),{fireImmediately:!0}),this._openReactionDisposer=Object(o.o)((function(){return e.isOpen}),(function(t){return e.emit(t?"open":"close",e)}),{fireImmediately:!0})}}]),t}(l.a);Object(o.h)(d,{isFocused:o.n,isOpen:o.n,setFocus:o.d.bound,setOpen:o.d.bound}),t.b=d},cmVN:function(e,t,n){"use strict";var a=n("g4DW"),r=n("gbB/"),i=n.n(r),s=n("Xmli"),c=n("cBH1"),o=n("tKK5"),l=n("+tDs"),u=n("dKS8"),d=n("RRQN"),m=n("hQJM"),h=n("PfUV"),f=n("rJCU"),b=n("MQhT");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=Object(l.b)((function(e){return e.isMobile?i.a.createElement(d.a,null,i.a.createElement("a",{className:" c-widget__launcher c-widget-hide-control c-widget-position-control ",href:"/chat",target:"_blank"},i.a.createElement(o.N,{name:"chat"}))):i.a.createElement(u.a,{stores:p(p({},f.a),{},{widgetStore:b.a})},i.a.createElement("div",{className:"c-widget__list c-widget__window"},i.a.createElement(h.a,null)),i.a.createElement("div",{className:"c-widget__windows"},i.a.createElement(m.a,null)),i.a.createElement("div",{className:"cw-window--pseudo",id:s.a,style:{width:c.a}}))}))},d7XB:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("qqUr"),s=n("RRXn"),c=n("6p2F");t.a=Object(i.b)("pushPermissionStore")((function(e){var t=e.pushPermissionStore;return t.shouldShowNotification?r.a.createElement(s.b,{body:"Get notified of new messages.",icon:"bell",okLabel:"Enable notifications",onCancel:function(){t.askLater(),Object(c.a)("push-permission","later")},onOk:function(){t.prompt(),Object(c.a)("push-permission","granted")},cancelLabel:"Ask me later"}):null}))},dF3F:function(e,t,n){"use strict";function a(e,t){return Math.random()*(t-e+1)+e}n.d(t,"a",(function(){return a}))},dKS8:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("boeR"),s=n("AYEn"),c=n("5gM2"),o=n("qqUr"),l=n("VBJD"),u=n("RRQN"),d=n("L7p7");function m(e){var t=e.basePath,n=e.children,a=e.isWidget,o=e.stores;function m(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null),r.a.createElement(l.b,null))}return r.a.createElement(c.b,o,a?r.a.createElement(u.a,null,r.a.createElement("div",{className:" c-widget c-widget-hide-control c-widget-position-control "},n,m())):r.a.createElement(u.a,{renderSingletons:!0},r.a.createElement("div",{className:"layout"},r.a.createElement(i.BrowserRouter,{basename:t},r.a.createElement(s.LastLocationProvider,null,n,m())))))}m.defaultProps={basePath:"/",store:{}},t.a=Object(o.a)(m)},dotr:function(e,t,n){"use strict";var a=n("DjBF"),r=n("7cf5"),i=n("gbB/"),s=n.n(i),c=n("oh0x"),o=n.n(c),l=n("miD3");n("oCe0");t.a=function(e){var t=e.name,n=e.onChange,c=Object(r.a)(e,["name","onChange"]),u=Object(i.useState)("write"),d=Object(a.a)(u,2),m=d[0],h=d[1],f=Object(i.useCallback)((function(e){n({target:{name:t,value:e}})}),[t,n]);return s.a.createElement(o.a,Object.assign({selectedTab:m,onChange:f,onTabChange:h,generateMarkdownPreview:function(e){return Promise.resolve(Object(l.a)(e))}},c))}},enWe:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("i5Br"),s=n.n(i),c=n("RRXn"),o=n("qqUr"),l=n("tKK5"),u=[{name:"bold",syntax:"**{content}**"},{name:"italics",syntax:"*{content}*"},{name:"code",syntax:"`{content}`"},{name:"snippet",syntax:"```{content}```"},{name:"quote",syntax:"> {content}"},{name:"emoji",syntax:":content:"}],d=[{name:"send",combination:"enter"},{name:"newline",combination:"shift + enter"}];t.a=Object(o.b)("clientStore")((function(e){var t=e.clientStore;return r.a.createElement(l.T,{isOpen:t.isHintsModalOpen,onClose:function(){return t.setHintsModalOpen(!1)},title:"Hints"},r.a.createElement("div",{className:"md-hints"},r.a.createElement("div",{className:"md-hints__section"},r.a.createElement("div",{className:"md-hints__header"},"Formatting"),r.a.createElement("div",{className:"md-hints__body"},u.map((function(e,t){var n=e.name,a=e.syntax;return r.a.createElement("div",{key:t,className:"md-hints__hint"},r.a.createElement("div",{className:"md-hints__name"},n),r.a.createElement("div",{className:"md-hints__action"},r.a.createElement("div",{className:s()("md__item","md__item--".concat(n))},a.replace(/{[\s\S]+}/,n))))})))),r.a.createElement("div",{className:"md-hints__section"},r.a.createElement("div",{className:"md-hints__header"},"Shortcuts"),r.a.createElement("div",{className:"md-hints__body"},d.map((function(e,t){return r.a.createElement("div",{key:t,className:"md-hints__hint"},r.a.createElement("div",{className:"md-hints__name"},e.name),r.a.createElement("div",{className:"md-hints__action"},r.a.createElement(c.a,{shortcut:e.combination})))}))))))}))},evZc:function(e,t,n){"use strict";var a=n("WqBj");n.d(t,"a",(function(){return a.a}));var r=n("uIyE");n.d(t,"b",(function(){return r.a}));var i=n("k8Xv");n.d(t,"c",(function(){return i.a}));var s=n("zyMe");n.d(t,"d",(function(){return s.a}))},g4Tb:function(e,t,n){"use strict";var a=n("2bPg"),r=n("BRlI"),i=n("yTEK"),s=function(){function e(){Object(a.a)(this,e),this.currentIndex=0,this.images=[]}return Object(r.a)(e,[{key:"setImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.images=e,this.currentIndex=t}},{key:"next",value:function(){this.currentIndex+1<this.images.length&&this.setCurrentIndex(this.currentIndex+1)}},{key:"previous",value:function(){this.currentIndex-1>-1&&this.setCurrentIndex(this.currentIndex-1)}},{key:"setCurrentIndex",value:function(e){this.currentIndex=e}},{key:"currentImage",get:function(){return this.isOpen?this.images[this.currentIndex]:null}},{key:"hasNext",get:function(){return this.currentIndex+1<this.images.length}},{key:"hasPrevious",get:function(){return this.currentIndex>0}},{key:"isOpen",get:function(){return this.images.length>0}}]),e}();Object(i.h)(s,{currentImage:i.e,currentIndex:i.n,images:i.n.ref,hasNext:i.e,hasPrevious:i.e,isOpen:i.e,setCurrentIndex:i.d,setImages:i.d}),t.a=new s},h6wY:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("5gM2"),s=n("9e5a"),c=n("tKK5");n("VBMs");t.a=Object(i.d)((function(e){var t=e.channel,n=Object(a.useRef)();return Object(a.useEffect)((function(){t.isUploadModalOpen&&n.current.openPicker()}),[t.isUploadModalOpen]),r.a.createElement(c.T,{isOpen:t.isUploadModalOpen,onClose:function(){return t.setUploadModalOpen(!1)},title:"Upload a file"},r.a.createElement("div",{className:"chat-attachment-input"},r.a.createElement(s.a,{ref:n,id:"chat-attachment",attachments:t.attachments,onChange:t.setAttachments}),r.a.createElement(c.Bb,{className:"btn btn-primary m-t-10",disabled:0===t.attachments.length,onClick:t.sendAttachments},"Upload")))}))},hQJM:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("qqUr"),s=n("2Rhu");t.a=Object(i.b)("widgetStore")((function(e){return e.widgetStore.chatWindows.map((function(e){return r.a.createElement(s.a,{key:e.id,chatWindow:e})}))}))},jP46:function(e,t,n){"use strict";var a=n("HuaZ");n.d(t,"a",(function(){return a.a}));var r=n("LUL+");n.d(t,"b",(function(){return r.a}))},jd6j:function(e,t,n){"use strict";var a=n("2bPg"),r=n("v/k1"),i=n.n(r),s=n("yTEK"),c=n("BtQs"),o=n.n(c),l=n("WwGv"),u=n("FjWE"),d=function e(){var t=this;Object(a.a)(this,e),this.isLoaded=!1,this.isLoading=!1,this.loadError=null,this.usersMap=s.n.map({},{deep:!1}),this._loadingIdentities=[],this.createOrUpdateUser=function(e){t.usersMap.set(e.identity,Object(l.a)(e))},this.getUser=function(e){return t.usersMap.has(e)?t.usersMap.get(e):(t.loadUser(e),null)},this.load=Object(s.i)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLoading&&!this.isLoaded){e.next=2;break}return e.abrupt("return");case 2:return this.isLoading=!0,this.loadError=null,e.prev=4,t=u.a.getClient(),e.next=8,t.getSubscribedUsers();case 8:e.sent.forEach(this.createOrUpdateUser),this.isLoaded=!0,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),this.loadError=e.t0;case 16:this.isLoading=!1;case 17:case"end":return e.stop()}}),e,this,[[4,13]])}))),this.loadUser=Object(s.i)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._loadingIdentities.includes(t)){e.next=2;break}return e.abrupt("return");case 2:return this._loadingIdentities.push(t),e.prev=3,n=u.a.getClient(),e.next=7,n.getUser(t);case 7:a=e.sent,this.createOrUpdateUser(a),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:o()(this._loadingIdentities,(function(e){return e===t}));case 14:case"end":return e.stop()}}),e,this,[[3,11]])})))};Object(s.h)(d,{isLoaded:s.n,isLoading:s.n,loadError:s.n.ref}),t.a=new d},jubP:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("Xmli"),s=n("PJFo"),c=n("Xc+P");t.a=function(e){var t=e.children,n=e.isMobile;return r.a.createElement("div",{className:"sidebar-page layout__content"},r.a.createElement(c.a,null),!n&&r.a.createElement("div",{className:"sidebar-page__sidebar"},r.a.createElement(s.a,null)),r.a.createElement("div",{id:i.a,className:"sidebar-page__content"},t))}},k8Xv:function(e,t,n){"use strict";var a=n("g4DW"),r=n("gbB/"),i=n.n(r),s=n("i5Br"),c=n.n(s);function o(e){var t=e.actions,n=e.children,s=e.className,o=e.widgetWindow,l=Object(r.useCallback)((function(){o.isOpen?o.close():o.openAndFocus()}),[o]);return i.a.createElement("div",{className:c()("cw-window__header",Object(a.a)({},s,s))},i.a.createElement("div",{className:"cw-window__title",onClick:l},n),t.length>0?i.a.createElement("div",{className:"cw-window__actions"},t):null)}o.defaultProps={actions:[]},t.a=o},"l++b":function(e,t,n){"use strict";var a=n("butC"),r=n("DjBF"),i=n("v/k1"),s=n.n(i),c=n("gbB/"),o=n.n(c),l=n("i5Br"),u=n.n(l),d=n("DxYH"),m=n("tKK5"),h=n("/1xN"),f=n("q4K5"),b=n("g4Tb");n("IcAC");t.a=function(e){var t=e.isTrailer,n=e.message,i=Object(c.useState)(!1),l=Object(r.a)(i,2),g=l[0],p=l[1],v=n.uid,_=n.media,y=_.contentType,E=Object(d.b)(y),O=Object(d.c)(y),k=Object(d.d)(y);function j(e){return w.apply(this,arguments)}function w(){return(w=Object(a.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!g){e.next=3;break}return e.abrupt("return");case 3:return p(!0),e.prev=4,e.next=7,n.media.getContentTemporaryUrl();case 7:a=e.sent,Object(d.a)(a,"filename"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.warn("Something went wrong!");case 14:p(!1);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}function M(){var e=f.a.getImage(v);if(e&&e.isLoaded){var t=0,a=n.channel.getImages().map((function(e,n){return e.uid===v&&(t=n),e.url}));b.a.setImages(a,t)}}function C(){return o.a.createElement("div",{className:"media__item"},o.a.createElement("div",{className:"media__icon"},o.a.createElement(m.N,{name:E})),o.a.createElement("div",{className:"media__content"},o.a.createElement("div",{className:"media__name"},_.filename||O),n.isLocal?o.a.createElement("div",{className:"media__download"},"Uploading"):o.a.createElement("a",{className:"media__download",href:"/",onClick:j},g?"Please wait":"Download")))}return o.a.createElement("div",{className:u()("media",{"media--trailer":t})},function(){if(t)return o.a.createElement("div",{className:"media__item"},o.a.createElement(m.N,{className:"m-r-10",name:E}),o.a.createElement("span",null,O));switch(k){case"image":return o.a.createElement("div",{className:"media__image",onClick:M},o.a.createElement(h.a,{id:v,url:function(){return _.getContentTemporaryUrl()}}));default:return C()}}())}},lIT5:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("UcDd");t.a=function(){return r.a.createElement(i.c,{message:"Select any channel to start chatting..."})}},miD3:function(e,t,n){"use strict";var a=n("g4DW"),r=n("HqyC"),i=n("jsuR"),s=n("tQb1"),c=n("NZqM"),o=n("DvLU");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=new i.a;d.use(s.a),d.inline.ruler.push("emoji",(function(e,t){var n=e.pos,a=e.posMax,i=e.src;if(":"!==i.charAt(n))return!1;var s=i.indexOf(":",n+1);if(s<=a){var c=i.substring(n+1,s);if(function(e){return!(!e||!e.trim())&&!!r.c.search(e).find((function(t){return t.id===e}))}(c))return t||e.push({type:"emoji",content:c,block:!1,level:e.level}),e.pos=s+1,!0}})),d.renderer.rules.emoji=function(e,t){var n=e[t];return Object(r.a)({html:!0,native:!0,emoji:n.content,size:o.a})},t.a=function(e,t){return d.set(u(u({},c.a),t)),d.render(e)}},ndbD:function(e,t,n){},nz4c:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("DjBF"),r=n("gbB/"),i=n.n(r),s=n("8bDF");function c(){var e=Object(r.useState)(null),t=Object(a.a)(e,2),n=t[0],c=t[1],o=function(e){var t=e.data,n=JSON.parse(t),a=n.type,r=n.data,i=(r=void 0===r?{}:r).percent;"invalid"!==a?"progress-update"===a&&c(100===i?null:i):c(20)};return Object(r.useEffect)((function(){Object(s.b)()&&(new WebSocket("ws://localhost:8080/sockjs-node").onmessage=o)}),[]),Object(s.b)()&&n>0?i.a.createElement(i.a.Fragment,null,n&&i.a.createElement("div",{className:"hmr"},i.a.createElement("div",{className:"hmr__progress",style:{width:"".concat(n,"%")}}))):null}},q4K5:function(e,t,n){"use strict";var a=n("2bPg"),r=n("BRlI"),i=n("yTEK"),s=n("7Hcg"),c=function(){function e(){Object(a.a)(this,e),this.imagesMap=i.n.map({},{deep:!1})}return Object(r.a)(e,[{key:"load",value:function(e,t){var n;this.imagesMap.has(e)?(n=this.imagesMap.get(e)).load():(n=new s.a(e,t),this.imagesMap.set(e,n))}},{key:"getImage",value:function(e){return this.imagesMap.get(e)}}]),e}();Object(i.h)(c,{load:i.d}),t.a=new c},qiqJ:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a);n("HuaZ");t.a=function(e){var t=e.cache,n=e.itemRenderer,i=e.index,s=e.itemId,c=e.measured,o=t.itemCache(s),l=Object(a.useRef)();return Object(a.useEffect)((function(){if(l.current&&!o.measured){var e=l.current;t.updateHeight(s,e.offsetHeight)}})),c?n({style:{position:"absolute",height:o.height,top:o.top},itemId:s,index:i}):r.a.createElement("div",{ref:l,className:"virtualized__ghost"},n({itemId:s,index:i}))}},qovH:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("5gM2"),s=n("i5Br"),c=n.n(s),o=n("6WMW"),l=n.n(o),u=n("+tDs"),d=n("tKK5");n("VBMs");var m=l()(u.b,i.d);t.a=m((function(e){var t=e.channel,n=e.isMobile;return Object(a.useEffect)((function(){t.loadMembersCount()}),[t]),r.a.createElement("div",{className:c()("chat-header",{"chat-header--online":t.isOnline})},r.a.createElement("div",{className:"chat-header__nav"},n&&r.a.createElement(d.e,{backTo:"/d",className:"m-r-10"})),r.a.createElement("div",{className:"chat-header__main"},r.a.createElement("div",{className:"chat-header__title"},t.displayName),r.a.createElement("div",{className:"chat-header__subtitle"},t.isGroup&&t.isMembersCountLoaded?r.a.createElement(d.Gb,{className:"chat-header__members chat-header__info-item",component:"div",onClick:function(){return t.setMembersModalOpen(!0)},title:"View members list"},r.a.createElement(d.N,{className:"m-r-5",name:"person"}),r.a.createElement("span",null,t.membersCount)):null,t.typingMembers.length>0?r.a.createElement("div",{className:"chat-header__status chat-header__info-item"},t.isGroup?"Someone is typing...":"Typing..."):t.isOnline?r.a.createElement("div",{className:"chat-header__status chat-header__info-item"},r.a.createElement("div",{className:"chat-header__online"},r.a.createElement("span",null,"Online"))):null)))}))},qqUr:function(e,t,n){"use strict";var a=n("5icY");n.d(t,"a",(function(){return a.b}));var r=n("DnLK");n.d(t,"b",(function(){return r.a}));var i=n("32Do");n.d(t,"c",(function(){return i.a}))},rJCU:function(e,t,n){"use strict";var a=n("RDDE"),r=n("U8xz"),i=n("g4Tb"),s=n("Qc0+"),c=n("jd6j");t.a={channelsStore:a.a,clientStore:r.a,galleryStore:i.a,pushPermissionStore:s.a,usersStore:c.a}},sKSn:function(e,t,n){"use strict";var a=n("2bPg"),r=n("BRlI"),i=function(){function e(t){Object(a.a)(this,e),this._contentUrl=null,this._file=t}return Object(r.a)(e,[{key:"getContentTemporaryUrl",value:function(){return this._contentUrl||(this._contentUrl=window.URL.createObjectURL(this.file)),this._contentUrl}},{key:"getSendMediaOptions",value:function(){var e=new FormData;return e.append("file",this.file,this.filename),e}},{key:"release",value:function(){var e=this;this._contentUrl&&setTimeout((function(){return window.URL.revokeObjectURL(e._contentUrl)}),100)}},{key:"contentType",get:function(){return this._file.type||"application/octet-stream"}},{key:"file",get:function(){return this._file}},{key:"filename",get:function(){return this._file.name}},{key:"size",get:function(){return this._file.size}}]),e}();t.a=i},sMi8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a={public:"public",private:"lock",ssmGroup:"group",direct:"circle"},r={DIRECT_CHAT:"twilio_direct_chat",SUCCESS_MANAGER:"success_manager"};function i(e){return e.isOnline?"dot":a[e.type]}},"sd+N":function(e,t,n){"use strict";var a=n("2bPg"),r=n("BRlI"),i=n("PK3Q"),s=n("Q5Ww"),c=n("00an"),o=n("gbB/"),l=n.n(o),u=n("tKK5"),d=n("a0Bo"),m=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).openPicker=function(){n._inputRef.current.click()},n._handleAttachmentsChange=function(e){var t=e.target,a=n.props.maxAttachments,r=n.props.attachments.slice();(r=r.concat(Array.from(t.files)).slice(0,a)).length===a&&console.warn("You have uploaded maximum allowed number of files"),n._triggerOnChange(r)},n._inputRef=Object(o.createRef)(),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"_removeAttachment",value:function(e){var t=this.props.attachments.slice();t.splice(e,1),this._inputRef.current.value=null,this._triggerOnChange(t)}},{key:"_triggerOnChange",value:function(e){this.props.onChange(e)}},{key:"_addUi",value:function(){var e=this.props,t=e.attachments,n=e.id;return t.length>0?l.a.createElement("label",{className:"attachment__trigger",htmlFor:n},"Add file"):null}},{key:"_inputUi",value:function(){var e=this.props.id;return l.a.createElement("input",{multiple:!0,ref:this._inputRef,hidden:!0,id:e,onChange:this._handleAttachmentsChange,type:"file"})}},{key:"_noAttachmentsUi",value:function(){var e=this.props.id;return l.a.createElement("label",{className:"attachment__empty",htmlFor:e},"Click to start selecting attachments")}},{key:"_attachmentsUi",value:function(){var e=this,t=this.props.attachments;return l.a.createElement("div",{className:"attachment__items"},t.map((function(t,n){return l.a.createElement("div",{key:n,className:"attachment__item"},l.a.createElement(d.a,{file:t}),l.a.createElement("div",{className:"attachment__remove"},l.a.createElement(u.Bb,{className:"btn btn-small btn-danger btn-round",onClick:function(){return e._removeAttachment(n)}},l.a.createElement(u.N,{name:"close"}))))})))}},{key:"render",value:function(){var e=this.props.attachments;return l.a.createElement("div",{className:"attachment"},e.length>0?this._attachmentsUi():this._noAttachmentsUi(),this._addUi(),this._inputUi())}}]),t}(o.Component);m.defaultProps={attachments:[],maxAttachments:5,maxAttachmentSize:1e4},t.a=m},tjC1:function(e,t,n){"use strict";var a=n("7cf5"),r=n("gbB/"),i=n.n(r),s=n("i5Br"),c=n.n(s),o=n("IJNI"),l=n("tKK5"),u=n("ldfh");t.a=function(e){var t=e.className,n=(e.sidebarClasses,e.arrowClasses),s=e.items,d=(e.device,e.toggle),m=e.hasHeaderToggleBtn,h=e.gaCategory,f=void 0===h?"":h,b=e.headerContent,g=e.footerContent,p=e.hasSidebarHeader,v=void 0===p||p,_=Object(a.a)(e,["className","sidebarClasses","arrowClasses","items","device","toggle","hasHeaderToggleBtn","gaCategory","headerContent","footerContent","hasSidebarHeader"]),y=Object(u.q)().mobile,E=Object(r.useCallback)((function(e){window.trackGaEvent("Academy-Sidebar","Navigation",e)}),[]);return i.a.createElement(i.a.Fragment,null,m&&i.a.createElement("div",{className:"sidebar__open-btn"},i.a.createElement(l.Bb,{className:"btn btn-icon btn-inverted",onClick:d},i.a.createElement(l.N,{name:"hamburger"}))),i.a.createElement("div",Object.assign({"data-testid":"sidebar",className:c()("sidebar",t)},_),v&&i.a.createElement("div",{className:"sidebar__header",onClick:d},i.a.createElement("span",{className:"sidebar__header-text"},"Scaler"),i.a.createElement("span",{className:c()("sidebar__arrow",n)})),y&&m&&i.a.createElement("div",{className:"sidebar__close-btn","data-testid":"sidebar-close-icon"},i.a.createElement(l.Bb,{className:"btn btn-icon btn-inverted",onClick:d},i.a.createElement(l.N,{name:"close"}))),b,i.a.createElement("div",{className:"sidebar__content scroll-bar-hidden",onClick:y?d:null},s.map((function(e,t){return function(e){return void 0===e.isVisible||e.isVisible}(e)&&i.a.createElement(o.a,Object.assign({key:t,onClick:function(){return E("".concat(f).concat(e.item))},gtmEventType:"side_nav",gtmEventAction:"click",gtmEventResult:e.item,gtmEventLink:e.to},e))}))),g))}},toJu:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("5gM2"),s=n("i5Br"),c=n.n(s),o=n("qqUr"),l=n("6p2F"),u=n("evZc"),d=n("H2h/");t.a=Object(o.b)("widgetStore")((function(e){var t=e.channel,n=e.chatWindow,a=e.widgetStore;return r.a.createElement(u.c,{actions:[r.a.createElement(i.a,{key:"minimise-chat"},(function(){return r.a.createElement(u.a,{icon:n.isOpen?"minimize":"maximize",onClick:n.toggle})})),r.a.createElement(u.a,{key:"open-chat",icon:"external-link",href:"/chat/d/".concat(n.id),onClick:function(){return Object(l.a)("open-standalone",n.id)},target:"_blank"}),r.a.createElement(u.a,{key:"close-chat",icon:"close",onClick:function(){return a.destroyWindow(n.id)}})],className:c()({"cw-window__header--online":t.isOnline}),widgetWindow:n},r.a.createElement("span",{className:"cw-channel-title"},t.displayName),r.a.createElement(d.a,{count:t.unreadMessagesCount}))}))},tryK:function(e,t,n){"use strict";var a=n("g4DW"),r=n("7cf5"),i=n("gbB/"),s=n.n(i),c=n("i5Br"),o=n.n(c),l=n("2Hh2");function u(e){var t=e.children,n=e.className,i=e.isSidebarDisabled,c=e.sidebarItems,u=e.sidebarClassName,d=e.product,m=e.onlySidebar,h=e.hasHeaderToggleBtn,f=e.sidebarGaCategory,b=void 0===f?"":f,g=e.sidebarHeaderContent,p=e.sidebarFooterContent,v=Object(r.a)(e,["children","className","isSidebarDisabled","sidebarItems","sidebarClassName","product","onlySidebar","hasHeaderToggleBtn","sidebarGaCategory","sidebarHeaderContent","sidebarFooterContent"]);return s.a.createElement("div",Object.assign({className:o()("dashboard",Object(a.a)({},n,n))},v),!i&&s.a.createElement(l.a,{className:u,items:c,product:d,hasHeaderToggleBtn:h,gaCategory:b||void 0,headerContent:g,footerContent:p}),m?"":s.a.createElement("div",{className:o()("dashboard__content",{"dashboard__content--sidebar-disabled":i})},t))}u.defaultProps={isSidebarDisabled:!1,sidebarClassName:"",onlySidebar:!1},t.a=u},"u+qh":function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("i5Br"),s=n.n(i),c=n("tKK5"),o=n("qqUr");t.a=Object(o.b)("channelsStore")((function(e){var t=e.channelsStore,n=Object(a.useCallback)((function(e){t.setSearchTerm(e.target.value)}),[t]),i=Object(a.useCallback)((function(){t.setSearchTerm("")}),[t]);return t.isSearchEnabled?r.a.createElement("div",{className:s()("channel-search",{"channel-search--active":t.searchTerm.trim().length>0})},r.a.createElement("div",{className:"channel-search__content"},r.a.createElement(c.N,{name:"search",className:"channel-search__icon"}),r.a.createElement("input",{className:"channel-search__input",onChange:n,placeholder:"Search conversation by name",type:"text",value:t.searchTerm}),t.searchTerm&&r.a.createElement(c.Bb,{className:"btn btn-dark btn-small btn-round",onClick:i},r.a.createElement(c.N,{name:"clear"})))):null}))},uBWv:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("5gM2"),s=n("i5Br"),c=n.n(s),o=n("0zje"),l=n("Y9Ba");t.a=Object(i.d)((function(e){var t=e.channel,n=e.index,a=e.style,i=void 0===a?{}:a,s=t.messages[n],u=n>0?t.messages[n-1]:null,d=0===n&&t.didFetchAllMessages||u&&!Object(o.v)(s.timestamp,u.timestamp),m=d||!u||u.memberSid!==s.memberSid;function h(){return r.a.createElement("div",{className:"message__timestamp"},Object(o.N)(s.timestamp))}return r.a.createElement("div",{className:"chat-messages__message message",style:i},d?r.a.createElement("div",{className:"message__event message__event--date"},r.a.createElement("span",null,Object(o.D)(s.timestamp))):null,s.isFirstUnread?r.a.createElement("div",{className:"message__event message__event--unread"},r.a.createElement("span",null,"New Messages")):null,m?r.a.createElement("div",{className:c()("message__row",{"message__row--spaced":m&&!(d||s.isFirstUnread)})},h(),r.a.createElement("div",{className:c()("message__sender",{"message__sender--mine":s.isMine},{"message__sender--others":!s.isMine})},s.author)):null,r.a.createElement("div",{className:"message__row message__row--hoverable"},h(),r.a.createElement("div",{className:c()("message__body",{"message__body--media":"media"===s.type},{"message__body--text":"default"===s.type})},r.a.createElement(l.a,{message:s}))),s.isLocal&&s.isSendFailed?r.a.createElement("div",{className:"message__error"},"Failed to send message.  ",r.a.createElement("a",{className:"link",onClick:function(){return s.internal.send()}},"Try again")):null)}))},uIyE:function(e,t,n){"use strict";var a=n("g4DW"),r=n("7cf5"),i=n("gbB/"),s=n.n(i),c=n("5gM2"),o=n("i5Br"),l=n.n(o);t.a=Object(c.d)((function(e){var t=e.className,n=e.widgetWindow,c=e.onClick,o=Object(r.a)(e,["className","widgetWindow","onClick"]),u=Object(i.useCallback)((function(e){n.focus(),c&&c(e)}),[c,n]);return n.isOpen?s.a.createElement("div",Object.assign({className:l()("cw-window__body",Object(a.a)({},t,t)),onClick:u},o)):null}))},utkZ:function(e,t,n){"use strict";var a=n("g4DW"),r=n("2bPg"),i=n("BRlI"),s=n("v/k1"),c=n.n(s),o=n("yTEK"),l=n("U8xz"),u=n("sKSn");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(){function e(t,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text";Object(r.a)(this,e),this.index=Date.now(),this.isLocalMessage=!0,this.isSending=!1,this.sendError=null,this.send=Object(o.i)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isSending){e.next=2;break}return e.abrupt("return");case 2:return this.isSending=!0,this.sendError=null,e.prev=4,t=this.body,"text"!==this.type&&(t=this.media.getSendMediaOptions()),e.next=9,this.channel.internal.sendMessage(t,this.attributes);case 9:n=e.sent,this.media.release(),this.index=n,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),this.sendError=e.t0;case 17:this.isSending=!1;case 18:case"end":return e.stop()}}),e,this,[[4,14]])}))),this._attributes=this._createAttributes(n),this._channel=a,this._type=i,"text"===i?(this._body=t,this._media=null):(this._body=null,this._media=new u.a(t)),this.send()}return Object(i.a)(e,[{key:"_createAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._timestamp=Date.now(),m(m({},e),{},{uid:"".concat(l.a.user.identity,"_").concat(this._timestamp),userIdentity:l.a.user.identity,widget:"media"===this.type?"media":"default"})}},{key:"attributes",get:function(){return this._attributes}},{key:"author",get:function(){return l.a.user.friendlyName||l.a.user.identity}},{key:"body",get:function(){return this._body}},{key:"channel",get:function(){return this._channel}},{key:"media",get:function(){return this._media}},{key:"memberSid",get:function(){return this.channel.myMembership.sid}},{key:"dateCreated",get:function(){return this._timestamp}},{key:"type",get:function(){return this._type}}],[{key:"fromAttachment",value:function(t,n,a){return new e(t,n,a,"media")}}]),e}();Object(o.h)(h,{index:o.n,isSending:o.n,sendError:o.n.ref}),t.a=h},vtqw:function(e,t,n){"use strict";var a=n("gbB/"),r=n.n(a),i=n("5gM2"),s=n("i5Br"),c=n.n(s),o=n("UcDd"),l=n("tKK5");t.a=Object(i.d)((function(e){var t=e.channel;function n(e){return r.a.createElement("div",{key:e.identity,className:"chat-member"},r.a.createElement("span",{className:"chat-member__name"},e.user?e.user.friendlyName:"Loading...",e.isMine&&" (you)"),r.a.createElement("span",{className:c()("chat-member__status",{"chat-member__status--online":e.isOnline})}))}return Object(a.useEffect)((function(){t.isMembersModalOpen&&t.loadMembers()}),[t,t.isMembersModalOpen]),r.a.createElement(l.T,{isOpen:t.isMembersModalOpen,onClose:function(){return t.setMembersModalOpen(!1)},title:"Members (".concat(t.membersCount,")")},t.isLoadingMembers?r.a.createElement(o.d,{isFit:!0}):t.membersLoadError?r.a.createElement(o.c,{isFit:!0,message:"Failed to load members.",actionFn:function(){return t.loadMembers()},actionLabel:"Try Again"}):t.membersList.length>0?r.a.createElement("div",{className:"chat-members"},r.a.createElement("div",{className:"chat-members__list"},t.membersList.map(n))):null)}))},ycTB:function(e,t,n){"use strict";var a=n("g4DW"),r=n("gbB/"),i=n.n(r),s=n("i5Br"),c=n.n(s),o=n("miD3");function l(e){var t=e.className,n=e.mdString,s=e.options,l=Object(r.useMemo)((function(){return{__html:Object(o.a)(n,s)}}),[n,s]);return i.a.createElement("div",{className:c()("md-renderer",Object(a.a)({},t,t)),dangerouslySetInnerHTML:l})}l.defaultProps={options:{}},t.a=l},zyMe:function(e,t,n){"use strict";var a=n("7cf5"),r=n("gbB/"),i=n.n(r),s=n("5gM2"),c=n("i5Br"),o=n.n(c),l=n("ldfh");t.a=Object(s.d)((function(e){var t=e.widgetWindow,n=Object(a.a)(e,["widgetWindow"]),s=Object(r.useRef)();return Object(l.r)(s,t.blur),i.a.createElement("div",Object.assign({ref:s,className:o()("cw-window",{"cw-window--focused":t.isFocused},{"cw-window--open":t.isOpen}),style:{width:t.width}},n))}))}});